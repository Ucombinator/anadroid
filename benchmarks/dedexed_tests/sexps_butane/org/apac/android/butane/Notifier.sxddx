(class (attrs public ) org/apac/android/butane/Notifier
 (super android/content/BroadcastReceiver)
 (source "Notifier.java")

 (field (attrs public static ) TAG [object java/lang/String] )

(method (attrs static ) <clinit>()void
  (limit registers 1)
  (line 42)
  (const-string v0 "ButaneNotifier")
  (sput-object v0 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (line 40)
  (return-void )
 )

(method (attrs public ) <init>()void
  (limit registers 1)
  ; this: v0 ([object org/apac/android/butane/Notifier])
  (line 40)
  (invoke-direct {v0} android/content/BroadcastReceiver/<init> )
  (return-void )
 )

(method (attrs private ) updateAckStatus([object android/content/Context] [object android/net/Uri] int )void
  (limit registers 10)
  ; this: v6 ([object org/apac/android/butane/Notifier])
  ; parameter[0] : v7 ([object android/content/Context])
  ; parameter[1] : v8 ([object android/net/Uri])
  ; parameter[2] : v9 (int)
  (const/4 v5 0)
  (line 166)
  (sget-object v2 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (new-instance v3 java/lang/StringBuilder)
  (const-string v4 "updating acks status for ")
  (invoke-direct {v3 v4} java/lang/StringBuilder/<init> [object java/lang/String] )
  (invoke-virtual {v8} android/net/Uri/toString )
  (move-result-object v4)
  (invoke-virtual {v3 v4} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v3)
  (const-string v4 " to ")
  (invoke-virtual {v3 v4} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v3)
  (invoke-virtual {v3 v9} java/lang/StringBuilder/append int )
  (move-result-object v3)
  (invoke-virtual {v3} java/lang/StringBuilder/toString )
  (move-result-object v3)
  (invoke-static {v2 v3} android/util/Log/d [object java/lang/String] [object java/lang/String] )
  (line 167)
  (new-instance v0 android/content/ContentValues)
  (invoke-direct {v0} android/content/ContentValues/<init> )
  (line 168)
  (const-string v2 "ack_status")
  (new-instance v3 java/lang/Integer)
  (invoke-direct {v3 v9} java/lang/Integer/<init> int )
  (invoke-virtual {v0 v2 v3} android/content/ContentValues/put [object java/lang/String] [object java/lang/Integer] )
  (line 169)
  (invoke-virtual {v7} android/content/Context/getContentResolver )
  (move-result-object v2)
  (invoke-virtual {v2 v8 v0 v5 v5} android/content/ContentResolver/update [object android/net/Uri] [object android/content/ContentValues] [object java/lang/String] [array [object java/lang/String]] )
  (move-result v1)
  (line 170)
  (sget-object v2 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (new-instance v3 java/lang/StringBuilder)
  (const-string v4 "Updated rows: ")
  (invoke-direct {v3 v4} java/lang/StringBuilder/<init> [object java/lang/String] )
  (invoke-virtual {v3 v1} java/lang/StringBuilder/append int )
  (move-result-object v3)
  (invoke-virtual {v3} java/lang/StringBuilder/toString )
  (move-result-object v3)
  (invoke-static {v2 v3} android/util/Log/d [object java/lang/String] [object java/lang/String] )
  (line 171)
  (const v2 2131165190) ; 0x7f070006)
  (const/4 v3 1)
  (invoke-static {v7 v2 v3} android/widget/Toast/makeText [object android/content/Context] int int )
  (line 172)
  (return-void )
 )

(method (attrs ) getNotification([object android/content/Context] [object java/lang/String] )[object android/app/Notification]
  (limit registers 12)
  ; this: v9 ([object org/apac/android/butane/Notifier])
  ; parameter[0] : v10 ([object android/content/Context])
  ; parameter[1] : v11 ([object java/lang/String])
  (line 125)
  (invoke-static {v10} android/preference/PreferenceManager/getDefaultSharedPreferences [object android/content/Context] )
  (move-result-object v4)
  (line 126)
  (const-string v5 "alert_sound")
  (const-string v6 "")
  (invoke-interface {v4 v5 v6} android/content/SharedPreferences/getString [object java/lang/String] [object java/lang/String] )
  (move-result-object v5)
  (invoke-static {v5} android/net/Uri/parse [object java/lang/String] )
  (move-result-object v0)
  (line 128)
  (new-instance v2 android/content/Intent)
  (const-string v5 "android.intent.action.VIEW")
  (invoke-direct {v2 v5} android/content/Intent/<init> [object java/lang/String] )
  (line 129)
  (const-string v5 "vnd.android.cursor.dir/pages")
  (invoke-virtual {v2 v5} android/content/Intent/setType [object java/lang/String] )
  (line 130)
  (new-instance v1 android/content/Intent)
  (const-string v5 "org.apac.android.butane.PAGES_VIEWED")
  (invoke-direct {v1 v5} android/content/Intent/<init> [object java/lang/String] )
  (line 133)
  (new-instance v3 android/app/Notification)
  (line 134)
  (const v5 2130837506) ; 0x7f020002)
  (line 135)
  (const-string v6 "This will be overridden below.")
  (line 136)
  (invoke-static {} java/lang/System/currentTimeMillis )
  (nop )
  (move-result-wide v7)
  (line 133)
  (invoke-direct {v3 v5 v6 v7 v8} android/app/Notification/<init> int [object java/lang/CharSequence] long )
  (line 138)
  (const/high16 v5 32518)
  (iput v5 v3 android/app/Notification.ledARGB int)
  (line 139)
  (const/16 v5 1000)
  (iput v5 v3 android/app/Notification.ledOnMS int)
  (line 140)
  (const/16 v5 100)
  (iput v5 v3 android/app/Notification.ledOffMS int)
  (line 141)
  (iput-object v0 v3 android/app/Notification.sound [object android/net/Uri])
  (line 142)
  (const/16 v5 17)
  (iput v5 v3 android/app/Notification.flags int)
  (line 144)
  (const/4 v5 0)
  (const/4 v6 0)
  (invoke-static {v10 v5 v2 v6} android/app/PendingIntent/getActivity [object android/content/Context] int [object android/content/Intent] int )
  (move-result-object v5)
  (iput-object v5 v3 android/app/Notification.contentIntent [object android/app/PendingIntent])
  (line 145)
  (const/4 v5 0)
  (const/4 v6 0)
  (invoke-static {v10 v5 v1 v6} android/app/PendingIntent/getBroadcast [object android/content/Context] int [object android/content/Intent] int )
  (move-result-object v5)
  (iput-object v5 v3 android/app/Notification.deleteIntent [object android/app/PendingIntent])
  (line 147)
  (iput-object v11 v3 android/app/Notification.tickerText [object java/lang/CharSequence])
  (line 148)
  (new-instance v5 android/widget/RemoteViews)
  (invoke-virtual {v10} android/content/Context/getPackageName )
  (move-result-object v6)
  (const v7 2130903045) ; 0x7f030005)
  (invoke-direct {v5 v6 v7} android/widget/RemoteViews/<init> [object java/lang/String] int )
  (iput-object v5 v3 android/app/Notification.contentView [object android/widget/RemoteViews])
  (line 150)
  (iget-object v5 v3 android/app/Notification.contentView [object android/widget/RemoteViews])
  (const v6 2131296264) ; 0x7f090008)
  (invoke-virtual {v5 v6 v11} android/widget/RemoteViews/setTextViewText int [object java/lang/CharSequence] )
  (line 153)
  (const-string v5 "vibrate")
  (const/4 v6 1)
  (invoke-interface {v4 v5 v6} android/content/SharedPreferences/getBoolean [object java/lang/String] boolean )
  (move-result v5)
  (if-eqz v5 l4884)
  (line 154)
  (const/4 v5 4)
  (new-array v5 v5 [array long])
  (const/4 v6 1)
  (const-wide/16 v7 800)
  (aput-wide v7 v5 v6)
  (const/4 v6 2)
  (const-wide/16 v7 500)
  (aput-wide v7 v5 v6)
  (const/4 v6 3)
  (const-wide/16 v7 800)
  (aput-wide v7 v5 v6)
  (iput-object v5 v3 android/app/Notification.vibrate [array long])
  (label l4884)
  (line 158)
  (const-string v5 "use_alarm_stream")
  (const/4 v6 0)
  (invoke-interface {v4 v5 v6} android/content/SharedPreferences/getBoolean [object java/lang/String] boolean )
  (move-result v5)
  (if-eqz v5 l489c)
  (line 159)
  (const/4 v5 4)
  (iput v5 v3 android/app/Notification.audioStreamType int)
  (label l489c)
  (line 162)
  (return-object v3)
)

(method (attrs public ) onReceive([object android/content/Context] [object android/content/Intent] )void
  (limit registers 21)
  ; this: v18 ([object org/apac/android/butane/Notifier])
  ; parameter[0] : v19 ([object android/content/Context])
  ; parameter[1] : v20 ([object android/content/Intent])
  (line 48)
  (const-string v2 "notification")
  (move-object/from16 v0 v19)
  (invoke-virtual {v0 v2} android/content/Context/getSystemService [object java/lang/String] )
  (move-result-object v13)
  (line 47)
  (check-cast v13 [object android/app/NotificationManager])
  (line 49)
  (const-string v2 "alarm")
  (move-object/from16 v0 v19)
  (invoke-virtual {v0 v2} android/content/Context/getSystemService [object java/lang/String] )
  (move-result-object v9)
  (check-cast v9 [object android/app/AlarmManager])
  (line 51)
  (invoke-virtual/range {v20} android/content/Intent/getAction )
  (move-result-object v2)
  (const-string v3 "org.apac.android.butane.PAGE_RECEIVED")
  (invoke-virtual {v2 v3} java/lang/String/equals [object java/lang/Object] )
  (move-result v2)
  (if-eqz v2 l4a4c)
  (line 52)
  (sget-object v2 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (const-string v3 "new page received. notifying.")
  (invoke-static {v2 v3} android/util/Log/d [object java/lang/String] [object java/lang/String] )
  (line 55)
  (invoke-virtual/range {v19} android/content/Context/getContentResolver )
  (move-result-object v2)
  (invoke-virtual/range {v20} android/content/Intent/getData )
  (move-result-object v3)
  (line 56)
  (const/4 v4 2)
  (new-array v4 v4 [array [object java/lang/String]])
  (const/4 v5 0)
  (const-string v16 "_id")
  (aput-object v16 v4 v5)
  (const/4 v5 1)
  (const-string v16 "subject")
  (aput-object v16 v4 v5)
  (line 57)
  (const/4 v5 0)
  (const/4 v6 0)
  (const/4 v7 0)
  (line 55)
  (invoke-virtual/range {v2 .. v7} android/content/ContentResolver/query [object android/net/Uri] [array [object java/lang/String]] [object java/lang/String] [array [object java/lang/String]] [object java/lang/String] )
  (move-result-object v10)
  (label l4936)
  (line 58)
  (invoke-interface {v10} android/database/Cursor/moveToFirst )
  (line 59)
  (const-string v2 "subject")
  (invoke-interface {v10 v2} android/database/Cursor/getColumnIndex [object java/lang/String] )
  (move-result v2)
  (invoke-interface {v10 v2} android/database/Cursor/getString int )
  (move-result-object v14)
  (label l4950)
  (line 61)
  (move-object/from16 v0 v18)
  (move-object/from16 v1 v19)
  (invoke-virtual {v0 v1 v14} org/apac/android/butane/Notifier/getNotification [object android/content/Context] [object java/lang/String] )
  (move-result-object v12)
  (label l4960)
  (line 62)
  (const/4 v2 0)
  (iput-object v2 v12 android/app/Notification.sound [object android/net/Uri])
  (line 63)
  (const v2 2131165228) ; 0x7f07002c)
  (invoke-virtual {v13 v2 v12} android/app/NotificationManager/notify int [object android/app/Notification] )
  (line 65)
  (new-instance v11 android/content/Intent)
  (const-string v2 "org.apac.android.butane.ANNOY")
  (invoke-direct {v11 v2} android/content/Intent/<init> [object java/lang/String] )
  (label l4980)
  (line 67)
  (const-string v2 "notification_text")
  (invoke-virtual {v11 v2 v14} android/content/Intent/putExtra [object java/lang/String] [object java/lang/String] )
  (line 70)
  (const/4 v2 0)
  (line 72)
  (const/high16 v3 4096)
  (line 68)
  (move-object/from16 v0 v19)
  (invoke-static {v0 v2 v11 v3} android/app/PendingIntent/getBroadcast [object android/content/Context] int [object android/content/Intent] int )
  (move-result-object v8)
  (label l499c)
  (line 76)
  (const-string v2 "org.apac.android.butane_preferences")
  (const/4 v3 0)
  (move-object/from16 v0 v19)
  (invoke-virtual {v0 v2 v3} android/content/Context/getSharedPreferences [object java/lang/String] int )
  (move-result-object v15)
  (label l49ae)
  (line 78)
  (sget-object v2 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (new-instance v3 java/lang/StringBuilder)
  (const-string v4 "notifcation interval: ")
  (invoke-direct {v3 v4} java/lang/StringBuilder/<init> [object java/lang/String] )
  (const-string v4 "notification_interval")
  (const-string v5 "unknown")
  (invoke-interface {v15 v4 v5} android/content/SharedPreferences/getString [object java/lang/String] [object java/lang/String] )
  (move-result-object v4)
  (invoke-virtual {v3 v4} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v3)
  (invoke-virtual {v3} java/lang/StringBuilder/toString )
  (move-result-object v3)
  (invoke-static {v2 v3} android/util/Log/d [object java/lang/String] [object java/lang/String] )
  (line 79)
  (new-instance v2 java/lang/Integer)
  (const-string v3 "notification_interval")
  (const-string v4 "20000")
  (invoke-interface {v15 v3 v4} android/content/SharedPreferences/getString [object java/lang/String] [object java/lang/String] )
  (move-result-object v3)
  (invoke-direct {v2 v3} java/lang/Integer/<init> [object java/lang/String] )
  (invoke-virtual {v2} java/lang/Integer/longValue )
  (move-result-wide v6)
  (label l4a08)
  (line 80)
  (sget-object v2 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (new-instance v3 java/lang/StringBuilder)
  (const-string v4 "notifcation interval: ")
  (invoke-direct {v3 v4} java/lang/StringBuilder/<init> [object java/lang/String] )
  (invoke-virtual {v3 v6 v7} java/lang/StringBuilder/append long )
  (move-result-object v3)
  (invoke-virtual {v3} java/lang/StringBuilder/toString )
  (move-result-object v3)
  (invoke-static {v2 v3} android/util/Log/d [object java/lang/String] [object java/lang/String] )
  (line 83)
  (const/4 v3 0)
  (invoke-static {} java/lang/System/currentTimeMillis )
  (nop )
  (move-result-wide v4)
  (const-wide/16 v16 500)
  (add-long v4 v4 v16)
  (move-object v2 v9)
  (invoke-virtual/range {v2 .. v8} android/app/AlarmManager/setRepeating int long long [object android/app/PendingIntent] )
  (label l4a4a)
  (line 120)
  (return-void )
  (label l4a4c)
  (line 85)
  (invoke-virtual/range {v20} android/content/Intent/getAction )
  (move-result-object v2)
  (const-string v3 "org.apac.android.butane.PAGES_VIEWED")
  (invoke-virtual {v2 v3} java/lang/String/equals [object java/lang/Object] )
  (move-result v2)
  (if-eqz v2 l4aa6)
  (line 86)
  (sget-object v2 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (const-string v3 "cancelling the notification...")
  (invoke-static {v2 v3} android/util/Log/d [object java/lang/String] [object java/lang/String] )
  (line 87)
  (new-instance v11 android/content/Intent)
  (const-string v2 "org.apac.android.butane.ANNOY")
  (invoke-direct {v11 v2} android/content/Intent/<init> [object java/lang/String] )
  (label l4a80)
  (line 90)
  (const/4 v2 0)
  (line 92)
  (const/high16 v3 4096)
  (line 88)
  (move-object/from16 v0 v19)
  (invoke-static {v0 v2 v11 v3} android/app/PendingIntent/getBroadcast [object android/content/Context] int [object android/content/Intent] int )
  (move-result-object v8)
  (label l4a92)
  (line 94)
  (invoke-virtual {v9 v8} android/app/AlarmManager/cancel [object android/app/PendingIntent] )
  (line 95)
  (const v2 2131165228) ; 0x7f07002c)
  (invoke-virtual {v13 v2} android/app/NotificationManager/cancel int )
  (goto l4a4a)
  (label l4aa6)
  (line 97)
  (invoke-virtual/range {v20} android/content/Intent/getAction )
  (move-result-object v2)
  (const-string v3 "org.apac.android.butane.ANNOY")
  (invoke-virtual {v2 v3} java/lang/String/equals [object java/lang/Object] )
  (move-result v2)
  (if-eqz v2 l4afa)
  (line 98)
  (sget-object v2 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (const-string v3 "got annoy intent. annoying.")
  (invoke-static {v2 v3} android/util/Log/e [object java/lang/String] [object java/lang/String] )
  (line 100)
  (const-string v2 "notification_text")
  (move-object/from16 v0 v20)
  (invoke-virtual {v0 v2} android/content/Intent/getStringExtra [object java/lang/String] )
  (move-result-object v2)
  (move-object/from16 v0 v18)
  (move-object/from16 v1 v19)
  (invoke-virtual {v0 v1 v2} org/apac/android/butane/Notifier/getNotification [object android/content/Context] [object java/lang/String] )
  (move-result-object v12)
  (label l4aec)
  (line 101)
  (const v2 2131165228) ; 0x7f07002c)
  (invoke-virtual {v13 v2 v12} android/app/NotificationManager/notify int [object android/app/Notification] )
  (goto l4a4a)
  (label l4afa)
  (line 103)
  (invoke-virtual/range {v20} android/content/Intent/getAction )
  (move-result-object v2)
  (const-string v3 "org.apac.android.butane.REPLY_SENT")
  (invoke-virtual {v2 v3} java/lang/String/equals [object java/lang/Object] )
  (move-result v2)
  (if-eqz v2 l4b6c)
  (line 105)
  (const/4 v2 15)
  (invoke-virtual/range {v18} org/apac/android/butane/Notifier/getResultCode )
  (move-result v3)
  (if-ne v2 v3 l4b5a)
  (line 106)
  (sget-object v2 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (const-string v3 "reply successful. updating ack status..")
  (invoke-static {v2 v3} android/util/Log/d [object java/lang/String] [object java/lang/String] )
  (line 108)
  (invoke-virtual/range {v20} android/content/Intent/getData )
  (move-result-object v2)
  (const-string v3 "org.apac.android.butane.NEW_ACK_STATUS")
  (const/4 v4 0)
  (move-object/from16 v0 v20)
  (invoke-virtual {v0 v3 v4} android/content/Intent/getIntExtra [object java/lang/String] int )
  (move-result v3)
  (move-object/from16 v0 v18)
  (move-object/from16 v1 v19)
  (invoke-direct {v0 v1 v2 v3} org/apac/android/butane/Notifier/updateAckStatus [object android/content/Context] [object android/net/Uri] int )
  (goto/16 l4a4a)
  (label l4b5a)
  (line 112)
  (sget-object v2 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (const-string v3 "reply failed!!! doing nothing.")
  (invoke-static {v2 v3} android/util/Log/e [object java/lang/String] [object java/lang/String] )
  (goto/16 l4a4a)
  (label l4b6c)
  (line 117)
  (sget-object v2 org/apac/android/butane/Notifier.TAG [object java/lang/String])
  (new-instance v3 java/lang/StringBuilder)
  (const-string v4 "Uncaught Action:")
  (invoke-direct {v3 v4} java/lang/StringBuilder/<init> [object java/lang/String] )
  (invoke-virtual/range {v20} android/content/Intent/getAction )
  (move-result-object v4)
  (invoke-virtual {v3 v4} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v3)
  (invoke-virtual {v3} java/lang/StringBuilder/toString )
  (move-result-object v3)
  (invoke-static {v2 v3} android/util/Log/e [object java/lang/String] [object java/lang/String] )
  (goto/16 l4a4a)
)

)
