(class (attrs public abstract ) org/swiftp/CmdAbstractStore
 (super org/swiftp/FtpCmd)
 (source "CmdAbstractStore.java")

 (field (attrs public static final ) message [object java/lang/String] "TEMPLATE!!" )

(method (attrs public ) <init>([object org/swiftp/SessionThread] [object java/lang/String] )void
  (limit registers 4)
  ; this: v1 ([object org/swiftp/CmdAbstractStore])
  ; parameter[0] : v2 ([object org/swiftp/SessionThread])
  ; parameter[1] : v3 ([object java/lang/String])
  (line 39)
  (const-class v0 org/swiftp/CmdAbstractStore)
  (invoke-virtual {v0} java/lang/Class/toString )
  (move-result-object v0)
  (invoke-direct {v1 v2 v0} org/swiftp/FtpCmd/<init> [object org/swiftp/SessionThread] [object java/lang/String] )
  (line 40)
  (return-void )
 )

(method (attrs public ) doStorOrAppe([object java/lang/String] boolean )void
  (limit registers 25)
  ; this: v22 ([object org/swiftp/CmdAbstractStore])
  ; parameter[0] : v23 ([object java/lang/String])
  ; parameter[1] : v24 (boolean)
  (catch java/io/IOException from l5a66 to l5aa2 using l5952)
  (catch java/io/IOException from l591e to l5950 using l5952)
  (catch java/io/IOException from l582a to l5876 using l587c)
  (catch java/io/FileNotFoundException from l57be to l5802 using l5824)
  (catch java/io/IOException from l5720 to l5726 using l5af8)
  (line 43)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v18 v0)
  (const/16 v19 3)
  (new-instance v20 java/lang/StringBuilder)
  (const-string v21 "STOR/APPE executing with append=")
  (invoke-direct/range {v20 .. v21} java/lang/StringBuilder/<init> [object java/lang/String] )
  (move-object/from16 v0 v20)
  (move/from16 v1 v24)
  (invoke-virtual {v0 v1} java/lang/StringBuilder/append boolean )
  (move-result-object v20)
  (invoke-virtual/range {v20} java/lang/StringBuilder/toString )
  (move-result-object v20)
  (invoke-virtual/range {v18 .. v20} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 44)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.sessionThread [object org/swiftp/SessionThread])
  (move-object/from16 v18 v0)
  (invoke-virtual/range {v18} org/swiftp/SessionThread/getWorkingDir )
  (move-result-object v18)
  (move-object/from16 v0 v18)
  (move-object/from16 v1 v23)
  (invoke-static {v0 v1} org/swiftp/CmdAbstractStore/inputPathToChrootedFile [object java/io/File] [object java/lang/String] )
  (move-result-object v16)
  (line 46)
  (const/4 v10 0)
  (line 47)
  (const/4 v13 0)
  (label l5704)
  (line 53)
  (move-object/from16 v0 v22)
  (move-object/from16 v1 v16)
  (invoke-virtual {v0 v1} org/swiftp/CmdAbstractStore/violatesChroot [object java/io/File] )
  (move-result v18)
  (if-eqz v18 l57ac)
  (line 54)
  (const-string v10 "550 Invalid name or chroot violation\r\n")
  (label l571c)
  (line 195)
  (if-eqz v13 l5726)
  (label l5720)
  (line 196)
  (invoke-virtual {v13} java/io/FileOutputStream/close )
  (label l5726)
  (line 200)
  (if-eqz v10 l5ad0)
  (line 201)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v18 v0)
  (const/16 v19 4)
  (new-instance v20 java/lang/StringBuilder)
  (const-string v21 "STOR error: ")
  (invoke-direct/range {v20 .. v21} java/lang/StringBuilder/<init> [object java/lang/String] )
  (invoke-virtual {v10} java/lang/String/trim )
  (move-result-object v21)
  (invoke-virtual/range {v20 .. v21} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v20)
  (invoke-virtual/range {v20} java/lang/StringBuilder/toString )
  (move-result-object v20)
  (invoke-virtual/range {v18 .. v20} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 202)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.sessionThread [object org/swiftp/SessionThread])
  (move-object/from16 v18 v0)
  (move-object/from16 v0 v18)
  (move-object v1 v10)
  (invoke-virtual {v0 v1} org/swiftp/SessionThread/writeString [object java/lang/String] )
  (label l577e)
  (line 209)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.sessionThread [object org/swiftp/SessionThread])
  (move-object/from16 v18 v0)
  (invoke-virtual/range {v18} org/swiftp/SessionThread/closeDataSocket )
  (line 210)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v18 v0)
  (const/16 v19 3)
  (const-string v20 "STOR finished")
  (invoke-virtual/range {v18 .. v20} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 211)
  (return-void )
  (label l57ac)
  (line 57)
  (invoke-virtual/range {v16} java/io/File/isDirectory )
  (move-result v18)
  (if-eqz v18 l57be)
  (line 58)
  (const-string v10 "451 Can't overwrite a directory\r\n")
  (line 59)
  (goto l571c)
  (label l57be)
  (line 63)
  (invoke-virtual/range {v16} java/io/File/exists )
  (move-result v18)
  (if-eqz v18 l57ee)
  (line 64)
  (if-nez v24 l57ee)
  (line 65)
  (invoke-virtual/range {v16} java/io/File/delete )
  (move-result v18)
  (if-nez v18 l57e0)
  (line 66)
  (const-string v10 "451 Couldn't truncate file\r\n")
  (goto l571c)
  (label l57e0)
  (line 70)
  (invoke-virtual/range {v16} java/io/File/getPath )
  (move-result-object v18)
  (invoke-static/range {v18} org/swiftp/Util/deletedFileNotify [object java/lang/String] )
  (label l57ee)
  (line 73)
  (new-instance v14 java/io/FileOutputStream)
  (move-object v0 v14)
  (move-object/from16 v1 v16)
  (move/from16 v2 v24)
  (invoke-direct {v0 v1 v2} java/io/FileOutputStream/<init> [object java/io/File] boolean )
  (label l5802)
  (line 83)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.sessionThread [object org/swiftp/SessionThread])
  (move-object/from16 v18 v0)
  (invoke-virtual/range {v18} org/swiftp/SessionThread/startUsingDataSocket )
  (move-result v18)
  (if-nez v18 l588a)
  (line 84)
  (const-string v10 "425 Couldn't open data socket\r\n")
  (move-object v13 v14)
  (label l5820)
  (line 85)
  (goto/16 l571c)
  (label l5824)
  (line 74)
  (move-exception v18)
  (move-object/from16 v7 v18)
  (label l582a)
  (line 76)
  (new-instance v18 java/lang/StringBuilder)
  (const-string v19 "451 Couldn't open file \"")
  (invoke-direct/range {v18 .. v19} java/lang/StringBuilder/<init> [object java/lang/String] )
  (move-object/from16 v0 v18)
  (move-object/from16 v1 v23)
  (invoke-virtual {v0 v1} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v18)
  (const-string v19 "\" aka \"")
  (invoke-virtual/range {v18 .. v19} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v18)
  (line 77)
  (invoke-virtual/range {v16} java/io/File/getCanonicalPath )
  (move-result-object v19)
  (invoke-virtual/range {v18 .. v19} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v18)
  (const-string v19 "\" for writing\r\n")
  (invoke-virtual/range {v18 .. v19} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v18)
  (line 76)
  (invoke-virtual/range {v18} java/lang/StringBuilder/toString )
  (label l5876)
  (move-result-object v10)
  (goto/16 l571c)
  (label l587c)
  (line 78)
  (move-exception v18)
  (move-object/from16 v11 v18)
  (label l5882)
  (line 79)
  (const-string v10 "451 Couldn't open file, nested exception\r\n")
  (line 81)
  (goto/16 l571c)
  (label l588a)
  (line 87)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v18 v0)
  (const/16 v19 3)
  (const-string v20 "Data socket ready")
  (invoke-virtual/range {v18 .. v20} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 88)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.sessionThread [object org/swiftp/SessionThread])
  (move-object/from16 v18 v0)
  (const-string v19 "150 Data socket ready\r\n")
  (invoke-virtual/range {v18 .. v19} org/swiftp/SessionThread/writeString [object java/lang/String] )
  (line 89)
  (invoke-static {} org/swiftp/Defaults/getDataChunkSize )
  (nop )
  (move-result v18)
  (move/from16 v0 v18)
  (new-array v0 v0 [array byte])
  (move-object v4 v0)
  (label l58cc)
  (line 97)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.sessionThread [object org/swiftp/SessionThread])
  (move-object/from16 v18 v0)
  (invoke-virtual/range {v18} org/swiftp/SessionThread/isBinaryMode )
  (move-result v18)
  (if-eqz v18 l5a08)
  (line 98)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v18 v0)
  (const-string v19 "Mode is binary")
  (invoke-virtual/range {v18 .. v19} org/swiftp/MyLog/d [object java/lang/String] )
  (label l58fa)
  (line 102)
  (const/4 v6 0)
  (label l58fc)
  (line 103)
  (const/4 v5 0)
  (label l58fe)
  (line 109)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.sessionThread [object org/swiftp/SessionThread])
  (move-object/from16 v18 v0)
  (move-object/from16 v0 v18)
  (move-object v1 v4)
  (invoke-virtual {v0 v1} org/swiftp/SessionThread/receiveFromDataSocket [array byte] )
  (move-result v12)
  (label l5918)
  (packed-switch v12 -2
    ps5918_5a4c ; case -2
    ps5918_5a22 ; case -1
    ps5918_5a42 ; case 0
    ps5918_default) ; default
  (label l591e)
  (label ps5918_default)
  (line 125)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.sessionThread [object org/swiftp/SessionThread])
  (move-object/from16 v18 v0)
  (invoke-virtual/range {v18} org/swiftp/SessionThread/isBinaryMode )
  (move-result v18)
  (if-eqz v18 l5a56)
  (line 126)
  (const/16 v18 0)
  (move-object v0 v14)
  (move-object v1 v4)
  (move/from16 v2 v18)
  (move v3 v12)
  (invoke-virtual {v0 v1 v2 v3} java/io/FileOutputStream/write [array byte] int int )
  (label l594a)
  (line 168)
  (invoke-virtual {v14} java/io/FileOutputStream/flush )
  (label l5950)
  (goto l58fe)
  (label l5952)
  (line 170)
  (move-exception v18)
  (move-object/from16 v7 v18)
  (label l5958)
  (line 171)
  (const-string v10 "451 File IO problem. Device might be full.\r\n")
  (line 172)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v18 v0)
  (new-instance v19 java/lang/StringBuilder)
  (const-string v20 "Exception while storing: ")
  (invoke-direct/range {v19 .. v20} java/lang/StringBuilder/<init> [object java/lang/String] )
  (move-object/from16 v0 v19)
  (move-object v1 v7)
  (invoke-virtual {v0 v1} java/lang/StringBuilder/append [object java/lang/Object] )
  (move-result-object v19)
  (invoke-virtual/range {v19} java/lang/StringBuilder/toString )
  (move-result-object v19)
  (invoke-virtual/range {v18 .. v19} org/swiftp/MyLog/d [object java/lang/String] )
  (line 173)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v18 v0)
  (new-instance v19 java/lang/StringBuilder)
  (const-string v20 "Message: ")
  (invoke-direct/range {v19 .. v20} java/lang/StringBuilder/<init> [object java/lang/String] )
  (invoke-virtual {v7} java/io/IOException/getMessage )
  (move-result-object v20)
  (invoke-virtual/range {v19 .. v20} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v19)
  (invoke-virtual/range {v19} java/lang/StringBuilder/toString )
  (move-result-object v19)
  (invoke-virtual/range {v18 .. v19} org/swiftp/MyLog/d [object java/lang/String] )
  (line 174)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v18 v0)
  (const-string v19 "Stack trace: ")
  (invoke-virtual/range {v18 .. v19} org/swiftp/MyLog/d [object java/lang/String] )
  (line 175)
  (invoke-virtual {v7} java/io/IOException/getStackTrace )
  (move-result-object v17)
  (label l59e8)
  (line 176)
  (move-object/from16 v0 v17)
  (array-length v0 v0)
  (move/from16 v18 v0)
  (const/16 v19 0)
  (label l59f6)
  (move/from16 v0 v19)
  (move/from16 v1 v18)
  (if-lt v0 v1 l5aac)
  (move-object v13 v14)
  (label l5a04)
  (goto/16 l571c)
  (label l5a08)
  (line 100)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v18 v0)
  (const-string v19 "Mode is ascii")
  (invoke-virtual/range {v18 .. v19} org/swiftp/MyLog/d [object java/lang/String] )
  (goto/16 l58fa)
  (label ps5918_5a22)
  (label l5a22)
  (line 111)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v18 v0)
  (const/16 v19 3)
  (const-string v20 "Returned from final read")
  (invoke-virtual/range {v18 .. v20} org/swiftp/MyLog/l int [object java/lang/String] )
  (move-object v13 v14)
  (label l5a3e)
  (line 113)
  (goto/16 l571c)
  (label ps5918_5a42)
  (label l5a42)
  (line 115)
  (const-string v10 "426 Couldn't receive data\r\n")
  (move-object v13 v14)
  (label l5a48)
  (line 116)
  (goto/16 l571c)
  (label ps5918_5a4c)
  (label l5a4c)
  (line 118)
  (const-string v10 "425 Could not connect data socket\r\n")
  (move-object v13 v14)
  (label l5a52)
  (line 119)
  (goto/16 l571c)
  (label l5a56)
  (line 129)
  (const/4 v15 0)
  (label l5a58)
  (line 130)
  (const/4 v9 0)
  (label l5a5a)
  (if-lt v9 v12 l5a7a)
  (line 139)
  (if-ge v15 v12 l594a)
  (line 140)
  (sub-int v18 v9 v15)
  (label l5a66)
  (move-object v0 v14)
  (move-object v1 v4)
  (move v2 v15)
  (move/from16 v3 v18)
  (invoke-virtual {v0 v1 v2 v3} java/io/FileOutputStream/write [array byte] int int )
  (goto/16 l594a)
  (label l5a7a)
  (line 131)
  (aget-byte v18 v4 v9)
  (const/16 v19 13)
  (move/from16 v0 v18)
  (move/from16 v1 v19)
  (if-ne v0 v1 l5aa6)
  (line 133)
  (sub-int v18 v9 v15)
  (move-object v0 v14)
  (move-object v1 v4)
  (move v2 v15)
  (move/from16 v3 v18)
  (invoke-virtual {v0 v1 v2 v3} java/io/FileOutputStream/write [array byte] int int )
  (label l5aa2)
  (line 134)
  (add-int/lit8 v15 v9 1)
  (label l5aa6)
  (line 130)
  (add-int/lit8 v9 v9 1)
  (goto l5a5a)
  (label l5aac)
  (line 176)
  (aget-object v8 v17 v19)
  (label l5ab0)
  (line 177)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.myLog [object org/swiftp/MyLog])
  (move-object/from16 v20 v0)
  (invoke-virtual {v8} java/lang/StackTraceElement/toString )
  (move-result-object v21)
  (invoke-virtual/range {v20 .. v21} org/swiftp/MyLog/d [object java/lang/String] )
  (line 176)
  (add-int/lit8 v19 v19 1)
  (goto l59f6)
  (label l5ad0)
  (line 204)
  (move-object/from16 v0 v22)
  (iget-object v0 v0 org/swiftp/CmdAbstractStore.sessionThread [object org/swiftp/SessionThread])
  (move-object/from16 v18 v0)
  (const-string v19 "226 Transmission complete\r\n")
  (invoke-virtual/range {v18 .. v19} org/swiftp/SessionThread/writeString [object java/lang/String] )
  (line 207)
  (invoke-virtual/range {v16} java/io/File/getPath )
  (move-result-object v18)
  (invoke-static/range {v18} org/swiftp/Util/newFileNotify [object java/lang/String] )
  (goto/16 l577e)
  (label l5af8)
  (line 198)
  (move-exception v18)
  (goto/16 l5726)
  (line 109)
  (label l5afe)
  (data-array
    0x00 0x00
  )
)

)
