(class (attrs ) org/tomdroid/sync/web/SnowySyncService$4
 (super java/lang/Object)
 (source "SnowySyncService.java")
 (implements java/lang/Runnable)

 (field (attrs final ) this$0 [object org/tomdroid/sync/web/SnowySyncService] )
 (field (attrs private final ) val$newRevision long )
 (field (attrs private final ) val$notes [object java/util/ArrayList] )
 (field (attrs private final ) val$userRef [object java/lang/String] )

(method (attrs ) <init>([object org/tomdroid/sync/web/SnowySyncService] [object java/util/ArrayList] long [object java/lang/String] )void
  (limit registers 6)
  ; this: v0 ([object org/tomdroid/sync/web/SnowySyncService$4])
  ; parameter[0] : v1 ([object org/tomdroid/sync/web/SnowySyncService])
  ; parameter[1] : v2 ([object java/util/ArrayList])
  ; parameter[2] : v3 (long)
  ; parameter[3] : v5 ([object java/lang/String])
  (line 1)
  (iput-object v1 v0 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (iput-object v2 v0 org/tomdroid/sync/web/SnowySyncService$4.val$notes [object java/util/ArrayList])
  (iput-wide v3 v0 org/tomdroid/sync/web/SnowySyncService$4.val$newRevision long)
  (iput-object v5 v0 org/tomdroid/sync/web/SnowySyncService$4.val$userRef [object java/lang/String])
  (line 348)
  (invoke-direct {v0} java/lang/Object/<init> )
  (return-void )
 )

(method (attrs public ) run()void
  (limit registers 16)
  ; this: v15 ([object org/tomdroid/sync/web/SnowySyncService$4])
  (catch org/json/JSONException from l1a1f4 to l1a378 using l1a19a)
  (catch java/net/UnknownHostException from l1a1f4 to l1a378 using l1a1d0)
  (catch java/net/UnknownHostException from l1a19c to l1a1ce using l1a1d0)
  (catch org/json/JSONException from l1a120 to l1a198 using l1a19a)
  (catch java/net/UnknownHostException from l1a120 to l1a198 using l1a1d0)
  (catch java/net/UnknownHostException from l1a0bc to l1a11e using l1a1d0)
  (line 350)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (invoke-static {v9} org/tomdroid/sync/web/SnowySyncService/access$1 [object org/tomdroid/sync/web/SnowySyncService] )
  (move-result-object v2)
  (label l1a0bc)
  (line 352)
  (const-string v9 "SnowySyncService")
  (const-string v10 "pushing {0} notes to remote service, sending rev #{1}")
  (const/4 v11 2)
  (new-array v11 v11 [array [object java/lang/Object]])
  (const/4 v12 0)
  (iget-object v13 v15 org/tomdroid/sync/web/SnowySyncService$4.val$notes [object java/util/ArrayList])
  (invoke-virtual {v13} java/util/ArrayList/size )
  (move-result v13)
  (invoke-static {v13} java/lang/Integer/valueOf int )
  (move-result-object v13)
  (aput-object v13 v11 v12)
  (const/4 v12 1)
  (iget-wide v13 v15 org/tomdroid/sync/web/SnowySyncService$4.val$newRevision long)
  (invoke-static {v13 v14} java/lang/Long/valueOf long )
  (move-result-object v13)
  (aput-object v13 v11 v12)
  (invoke-static {v9 v10 v11} org/tomdroid/util/TLog/v [object java/lang/String] [object java/lang/String] [array [object java/lang/Object]] )
  (line 353)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.val$userRef [object java/lang/String])
  (invoke-virtual {v2 v9} org/tomdroid/sync/web/OAuthConnection/get [object java/lang/String] )
  (move-result-object v7)
  (label l1a108)
  (line 354)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (iget-boolean v9 v9 org/tomdroid/sync/web/SnowySyncService.cancelled boolean)
  (if-eqz v9 l1a120)
  (line 355)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (invoke-virtual {v9} org/tomdroid/sync/web/SnowySyncService/doCancel )
  (label l1a11e)
  (line 417)
  (return-void )
  (label l1a120)
  (line 359)
  (const-string v9 "SnowySyncService")
  (const-string v10 "creating JSON")
  (const/4 v11 0)
  (new-array v11 v11 [array [object java/lang/Object]])
  (invoke-static {v9 v10 v11} org/tomdroid/util/TLog/v [object java/lang/String] [object java/lang/String] [array [object java/lang/Object]] )
  (line 361)
  (new-instance v3 org/json/JSONObject)
  (invoke-direct {v3} org/json/JSONObject/<init> )
  (label l1a13e)
  (line 362)
  (const-string v9 "latest-sync-revision")
  (iget-wide v10 v15 org/tomdroid/sync/web/SnowySyncService$4.val$newRevision long)
  (invoke-virtual {v3 v9 v10 v11} org/json/JSONObject/put [object java/lang/String] long )
  (line 363)
  (new-instance v1 org/json/JSONArray)
  (invoke-direct {v1} org/json/JSONArray/<init> )
  (label l1a156)
  (line 364)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.val$notes [object java/util/ArrayList])
  (invoke-virtual {v9} java/util/ArrayList/iterator )
  (move-result-object v9)
  (label l1a162)
  (invoke-interface {v9} java/util/Iterator/hasNext )
  (move-result v10)
  (if-nez v10 l1a1f4)
  (line 378)
  (const-string v9 "note-changes")
  (invoke-virtual {v3 v9 v1} org/json/JSONObject/put [object java/lang/String] [object java/lang/Object] )
  (line 380)
  (new-instance v8 org/json/JSONObject)
  (invoke-direct {v8 v7} org/json/JSONObject/<init> [object java/lang/String] )
  (label l1a182)
  (line 381)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (iget-boolean v9 v9 org/tomdroid/sync/web/SnowySyncService.cancelled boolean)
  (if-eqz v9 l1a29a)
  (line 382)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (invoke-virtual {v9} org/tomdroid/sync/web/SnowySyncService/doCancel )
  (label l1a198)
  (goto l1a11e)
  (label l1a19a)
  (line 403)
  (move-exception v4)
  (label l1a19c)
  (line 404)
  (const-string v9 "SnowySyncService")
  (const-string v10 "Problem parsing the server response")
  (const/4 v11 0)
  (new-array v11 v11 [array [object java/lang/Object]])
  (invoke-static {v9 v4 v10 v11} org/tomdroid/util/TLog/e [object java/lang/String] [object java/lang/Throwable] [object java/lang/String] [array [object java/lang/Object]] )
  (line 405)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (const/16 v10 10)
  (line 407)
  (const-string v11 "JSON parsing")
  (const-string v12 "json")
  (line 406)
  (invoke-static {v11 v12 v4 v7} org/tomdroid/util/ErrorList/createErrorWithContents [object java/lang/String] [object java/lang/String] [object java/lang/Exception] [object java/lang/String] )
  (move-result-object v11)
  (line 405)
  (invoke-static {v9 v10 v11} org/tomdroid/sync/web/SnowySyncService/access$9 [object org/tomdroid/sync/web/SnowySyncService] int [object java/util/HashMap] )
  (label l1a1ce)
  (goto l1a11e)
  (label l1a1d0)
  (line 410)
  (move-exception v4)
  (label l1a1d2)
  (line 411)
  (const-string v9 "SnowySyncService")
  (const-string v10 "Internet connection not available")
  (const/4 v11 0)
  (new-array v11 v11 [array [object java/lang/Object]])
  (invoke-static {v9 v10 v11} org/tomdroid/util/TLog/e [object java/lang/String] [object java/lang/String] [array [object java/lang/Object]] )
  (line 412)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (const/4 v10 4)
  (invoke-static {v9 v10} org/tomdroid/sync/web/SnowySyncService/access$0 [object org/tomdroid/sync/web/SnowySyncService] int )
  (goto l1a11e)
  (label l1a1f4)
  (line 364)
  (invoke-interface {v9} java/util/Iterator/next )
  (move-result-object v5)
  (check-cast v5 [object org/tomdroid/Note])
  (label l1a200)
  (line 365)
  (new-instance v0 org/json/JSONObject)
  (invoke-direct {v0} org/json/JSONObject/<init> )
  (label l1a20a)
  (line 366)
  (const-string v10 "guid")
  (invoke-virtual {v5} org/tomdroid/Note/getGuid )
  (move-result-object v11)
  (invoke-virtual {v0 v10 v11} org/json/JSONObject/put [object java/lang/String] [object java/lang/Object] )
  (line 368)
  (invoke-virtual {v5} org/tomdroid/Note/getTags )
  (move-result-object v10)
  (const-string v11 "system:deleted")
  (invoke-virtual {v10 v11} java/lang/String/contains [object java/lang/CharSequence] )
  (move-result v10)
  (if-eqz v10 l1a24a)
  (line 369)
  (const-string v10 "command")
  (const-string v11 "delete")
  (invoke-virtual {v0 v10 v11} org/json/JSONObject/put [object java/lang/String] [object java/lang/Object] )
  (label l1a242)
  (line 376)
  (invoke-virtual {v1 v0} org/json/JSONArray/put [object java/lang/Object] )
  (goto l1a162)
  (label l1a24a)
  (line 371)
  (const-string v10 "title")
  (invoke-virtual {v5} org/tomdroid/Note/getTitle )
  (move-result-object v11)
  (invoke-virtual {v0 v10 v11} org/json/JSONObject/put [object java/lang/String] [object java/lang/Object] )
  (line 372)
  (const-string v10 "note-content")
  (invoke-virtual {v5} org/tomdroid/Note/getXmlContent )
  (move-result-object v11)
  (invoke-virtual {v0 v10 v11} org/json/JSONObject/put [object java/lang/String] [object java/lang/Object] )
  (line 373)
  (const-string v10 "note-content-version")
  (const-string v11 "0.1")
  (invoke-virtual {v0 v10 v11} org/json/JSONObject/put [object java/lang/String] [object java/lang/Object] )
  (line 374)
  (const-string v10 "last-change-date")
  (invoke-virtual {v5} org/tomdroid/Note/getLastChangeDate )
  (move-result-object v11)
  (const/4 v12 0)
  (invoke-virtual {v11 v12} android/text/format/Time/format3339 boolean )
  (move-result-object v11)
  (invoke-virtual {v0 v10 v11} org/json/JSONObject/put [object java/lang/String] [object java/lang/Object] )
  (goto l1a242)
  (label l1a29a)
  (line 385)
  (const-string v9 "notes-ref")
  (invoke-virtual {v8 v9} org/json/JSONObject/getJSONObject [object java/lang/String] )
  (move-result-object v9)
  (line 386)
  (const-string v10 "api-ref")
  (invoke-virtual {v9 v10} org/json/JSONObject/getString [object java/lang/String] )
  (move-result-object v6)
  (line 388)
  (const-string v9 "SnowySyncService")
  (const-string v10 "put url: {0}")
  (const/4 v11 1)
  (new-array v11 v11 [array [object java/lang/Object]])
  (const/4 v12 0)
  (aput-object v6 v11 v12)
  (invoke-static {v9 v10 v11} org/tomdroid/util/TLog/v [object java/lang/String] [object java/lang/String] [array [object java/lang/Object]] )
  (line 390)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (iget-boolean v9 v9 org/tomdroid/sync/web/SnowySyncService.cancelled boolean)
  (if-eqz v9 l1a2e6)
  (line 391)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (invoke-virtual {v9} org/tomdroid/sync/web/SnowySyncService/doCancel )
  (goto/16 l1a11e)
  (label l1a2e6)
  (line 395)
  (const-string v9 "SnowySyncService")
  (const-string v10 "pushing data to remote service: {0}")
  (const/4 v11 1)
  (new-array v11 v11 [array [object java/lang/Object]])
  (const/4 v12 0)
  (invoke-virtual {v3} org/json/JSONObject/toString )
  (move-result-object v13)
  (aput-object v13 v11 v12)
  (invoke-static {v9 v10 v11} org/tomdroid/util/TLog/v [object java/lang/String] [object java/lang/String] [array [object java/lang/Object]] )
  (line 396)
  (new-instance v8 org/json/JSONObject)
  (label l1a30c)
  (line 397)
  (invoke-virtual {v3} org/json/JSONObject/toString )
  (move-result-object v9)
  (line 396)
  (invoke-virtual {v2 v6 v9} org/tomdroid/sync/web/OAuthConnection/put [object java/lang/String] [object java/lang/String] )
  (move-result-object v9)
  (invoke-direct {v8 v9} org/json/JSONObject/<init> [object java/lang/String] )
  (line 399)
  (const-string v9 "SnowySyncService")
  (const-string v10 "put response: {0}")
  (const/4 v11 1)
  (new-array v11 v11 [array [object java/lang/Object]])
  (const/4 v12 0)
  (invoke-virtual {v8} org/json/JSONObject/toString )
  (move-result-object v13)
  (aput-object v13 v11 v12)
  (invoke-static {v9 v10 v11} org/tomdroid/util/TLog/v [object java/lang/String] [object java/lang/String] [array [object java/lang/Object]] )
  (line 400)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (const-string v10 "latest-sync-revision")
  (invoke-virtual {v8 v10} org/json/JSONObject/getLong [object java/lang/String] )
  (move-result-wide v10)
  (invoke-static {v9 v10 v11} org/tomdroid/sync/web/SnowySyncService/access$2 [object org/tomdroid/sync/web/SnowySyncService] long )
  (line 401)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (const/16 v10 24)
  (iget-object v11 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (invoke-static {v11} org/tomdroid/sync/web/SnowySyncService/access$4 [object org/tomdroid/sync/web/SnowySyncService] )
  (move-result-wide v11)
  (long-to-int v11 v11)
  (const/4 v12 0)
  (invoke-static {v9 v10 v11 v12} org/tomdroid/sync/web/SnowySyncService/access$5 [object org/tomdroid/sync/web/SnowySyncService] int int int )
  (label l1a378)
  (line 416)
  (iget-object v9 v15 org/tomdroid/sync/web/SnowySyncService$4.this$0 [object org/tomdroid/sync/web/SnowySyncService])
  (const/4 v10 1)
  (invoke-virtual {v9 v10} org/tomdroid/sync/web/SnowySyncService/finishSync boolean )
  (goto/16 l1a11e)
)

)
