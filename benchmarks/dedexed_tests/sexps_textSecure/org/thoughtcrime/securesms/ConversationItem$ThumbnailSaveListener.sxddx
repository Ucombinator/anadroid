(class (attrs ) org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener
 (super android/os/Handler)
 (source "ConversationItem.java")
 (implements android/view/View$OnLongClickListener)
 (implements java/lang/Runnable)
 (implements android/media/MediaScannerConnection$MediaScannerConnectionClient)

 (field (attrs private static final ) FAILURE int 1); 0x1 )
 (field (attrs private static final ) SUCCESS int 0); 0x0 )
 (field (attrs private static final ) WRITE_ACCESS_FAILURE int 2); 0x2 )
 (field (attrs private ) mediaFile [object java/io/File] )
 (field (attrs private ) mediaScannerConnection [object android/media/MediaScannerConnection] )
 (field (attrs private ) progressDialog [object android/app/ProgressDialog] )
 (field (attrs private final ) slide [object org/thoughtcrime/securesms/mms/Slide] )
 (field (attrs final ) this$0 [object org/thoughtcrime/securesms/ConversationItem] )

(method (attrs public ) <init>([object org/thoughtcrime/securesms/ConversationItem] [object org/thoughtcrime/securesms/mms/Slide] )void
  (limit registers 3)
  ; this: v0 ([object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener])
  ; parameter[0] : v1 ([object org/thoughtcrime/securesms/ConversationItem])
  ; parameter[1] : v2 ([object org/thoughtcrime/securesms/mms/Slide])
  (line 335)
  (iput-object v1 v0 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.this$0 [object org/thoughtcrime/securesms/ConversationItem])
  (invoke-direct {v0} android/os/Handler/<init> )
  (line 336)
  (iput-object v2 v0 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.slide [object org/thoughtcrime/securesms/mms/Slide])
  (line 337)
  (return-void )
 )

(method (attrs static ) access$0([object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener] )void
  (limit registers 1)
  ; parameter[0] : v0 ([object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener])
  (line 383)
  (invoke-direct {v0} org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener/saveToSdCard )
  (return-void )
 )

(method (attrs private ) constructOutputFile()[object java/io/File]
  (annotation systemVisibility [object dalvik/annotation/Throws]
    (value [array [object java/lang/String]] [object java/io/IOException])
  )
  (limit registers 5)
  ; this: v4 ([object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener])
  (line 369)
  (invoke-static {} android/os/Environment/getExternalStorageDirectory )
  (nop )
  (move-result-object v1)
  (line 372)
  (iget-object v2 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.slide [object org/thoughtcrime/securesms/mms/Slide])
  (invoke-virtual {v2} org/thoughtcrime/securesms/mms/Slide/hasVideo )
  (move-result v2)
  (if-eqz v2 l9096c)
  (line 373)
  (new-instance v0 java/io/File)
  (new-instance v2 java/lang/StringBuilder)
  (invoke-direct {v2} java/lang/StringBuilder/<init> )
  (invoke-virtual {v1} java/io/File/getAbsoluteFile )
  (move-result-object v3)
  (invoke-virtual {v2 v3} java/lang/StringBuilder/append [object java/lang/Object] )
  (move-result-object v2)
  (sget-object v3 java/io/File.separator [object java/lang/String])
  (invoke-virtual {v2 v3} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v2)
  (const-string v3 "Movies")
  (invoke-virtual {v2 v3} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v2)
  (invoke-virtual {v2} java/lang/StringBuilder/toString )
  (move-result-object v2)
  (invoke-direct {v0 v2} java/io/File/<init> [object java/lang/String] )
  (label l90954)
  (line 379)
  (invoke-virtual {v0} java/io/File/mkdirs )
  (line 380)
  (const-string v2 "textsecure")
  (const-string v3 ".attach")
  (invoke-static {v2 v3 v0} java/io/File/createTempFile [object java/lang/String] [object java/lang/String] [object java/io/File] )
  (move-result-object v2)
  (return-object v2)
  (label l9096c)
  (line 374)
  (iget-object v2 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.slide [object org/thoughtcrime/securesms/mms/Slide])
  (invoke-virtual {v2} org/thoughtcrime/securesms/mms/Slide/hasAudio )
  (move-result v2)
  (if-eqz v2 l909c2)
  (line 375)
  (new-instance v0 java/io/File)
  (new-instance v2 java/lang/StringBuilder)
  (invoke-virtual {v1} java/io/File/getAbsolutePath )
  (move-result-object v3)
  (invoke-static {v3} java/lang/String/valueOf [object java/lang/Object] )
  (move-result-object v3)
  (invoke-direct {v2 v3} java/lang/StringBuilder/<init> [object java/lang/String] )
  (sget-object v3 java/io/File.separator [object java/lang/String])
  (invoke-virtual {v2 v3} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v2)
  (const-string v3 "Music")
  (invoke-virtual {v2 v3} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v2)
  (invoke-virtual {v2} java/lang/StringBuilder/toString )
  (move-result-object v2)
  (invoke-direct {v0 v2} java/io/File/<init> [object java/lang/String] )
  (label l909c0)
  (goto l90954)
  (label l909c2)
  (line 377)
  (new-instance v0 java/io/File)
  (new-instance v2 java/lang/StringBuilder)
  (invoke-virtual {v1} java/io/File/getAbsolutePath )
  (move-result-object v3)
  (invoke-static {v3} java/lang/String/valueOf [object java/lang/Object] )
  (move-result-object v3)
  (invoke-direct {v2 v3} java/lang/StringBuilder/<init> [object java/lang/String] )
  (sget-object v3 java/io/File.separator [object java/lang/String])
  (invoke-virtual {v2 v3} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v2)
  (const-string v3 "Pictures")
  (invoke-virtual {v2 v3} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v2)
  (invoke-virtual {v2} java/lang/StringBuilder/toString )
  (move-result-object v2)
  (invoke-direct {v0 v2} java/io/File/<init> [object java/lang/String] )
  (goto l90954)
 )

(method (attrs private ) saveToSdCard()void
  (limit registers 5)
  ; this: v4 ([object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener])
  (const/4 v3 0)
  (line 384)
  (new-instance v0 android/app/ProgressDialog)
  (iget-object v1 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.this$0 [object org/thoughtcrime/securesms/ConversationItem])
  (invoke-static {v1} org/thoughtcrime/securesms/ConversationItem/access$0 [object org/thoughtcrime/securesms/ConversationItem] )
  (move-result-object v1)
  (invoke-direct {v0 v1} android/app/ProgressDialog/<init> [object android/content/Context] )
  (iput-object v0 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.progressDialog [object android/app/ProgressDialog])
  (line 385)
  (iget-object v0 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.progressDialog [object android/app/ProgressDialog])
  (iget-object v1 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.this$0 [object org/thoughtcrime/securesms/ConversationItem])
  (invoke-static {v1} org/thoughtcrime/securesms/ConversationItem/access$0 [object org/thoughtcrime/securesms/ConversationItem] )
  (move-result-object v1)
  (const v2 2131427374) ; 0x7f0b002e)
  (invoke-virtual {v1 v2} android/content/Context/getString int )
  (move-result-object v1)
  (invoke-virtual {v0 v1} android/app/ProgressDialog/setTitle [object java/lang/CharSequence] )
  (line 386)
  (iget-object v0 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.progressDialog [object android/app/ProgressDialog])
  (iget-object v1 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.this$0 [object org/thoughtcrime/securesms/ConversationItem])
  (invoke-static {v1} org/thoughtcrime/securesms/ConversationItem/access$0 [object org/thoughtcrime/securesms/ConversationItem] )
  (move-result-object v1)
  (const v2 2131427375) ; 0x7f0b002f)
  (invoke-virtual {v1 v2} android/content/Context/getString int )
  (move-result-object v1)
  (invoke-virtual {v0 v1} android/app/ProgressDialog/setMessage [object java/lang/CharSequence] )
  (line 387)
  (iget-object v0 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.progressDialog [object android/app/ProgressDialog])
  (invoke-virtual {v0 v3} android/app/ProgressDialog/setCancelable boolean )
  (line 388)
  (iget-object v0 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.progressDialog [object android/app/ProgressDialog])
  (const/4 v1 1)
  (invoke-virtual {v0 v1} android/app/ProgressDialog/setIndeterminate boolean )
  (line 389)
  (iget-object v0 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.progressDialog [object android/app/ProgressDialog])
  (invoke-virtual {v0 v3} android/app/ProgressDialog/setProgressStyle int )
  (line 390)
  (iget-object v0 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.progressDialog [object android/app/ProgressDialog])
  (invoke-virtual {v0} android/app/ProgressDialog/show )
  (line 391)
  (new-instance v0 java/lang/Thread)
  (invoke-direct {v0 v4} java/lang/Thread/<init> [object java/lang/Runnable] )
  (invoke-virtual {v0} java/lang/Thread/start )
  (line 392)
  (return-void )
 )

(method (attrs public ) handleMessage([object android/os/Message] )void
  (limit registers 5)
  ; this: v3 ([object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener])
  ; parameter[0] : v4 ([object android/os/Message])
  (const/4 v2 1)
  (line 413)
  (iget v0 v4 android/os/Message.what int)
  (packed-switch v0 0
    ps90ace_90b02 ; case 0
    ps90ace_90ae0 ; case 1
    ps90ace_90b24 ; case 2
    ps90ace_default) ; default
  (label l90ad4)
  (label ps90ace_default)
  (line 428)
  (iget-object v0 v3 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.progressDialog [object android/app/ProgressDialog])
  (invoke-virtual {v0} android/app/ProgressDialog/dismiss )
  (line 429)
  (return-void )
  (label ps90ace_90ae0)
  (line 415)
  (iget-object v0 v3 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.this$0 [object org/thoughtcrime/securesms/ConversationItem])
  (invoke-static {v0} org/thoughtcrime/securesms/ConversationItem/access$0 [object org/thoughtcrime/securesms/ConversationItem] )
  (move-result-object v0)
  (const v1 2131427378) ; 0x7f0b0032)
  (invoke-static {v0 v1 v2} android/widget/Toast/makeText [object android/content/Context] int int )
  (move-result-object v0)
  (line 416)
  (invoke-virtual {v0} android/widget/Toast/show )
  (goto l90ad4)
  (label ps90ace_90b02)
  (line 419)
  (iget-object v0 v3 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.this$0 [object org/thoughtcrime/securesms/ConversationItem])
  (invoke-static {v0} org/thoughtcrime/securesms/ConversationItem/access$0 [object org/thoughtcrime/securesms/ConversationItem] )
  (move-result-object v0)
  (const v1 2131427379) ; 0x7f0b0033)
  (invoke-static {v0 v1 v2} android/widget/Toast/makeText [object android/content/Context] int int )
  (move-result-object v0)
  (line 420)
  (invoke-virtual {v0} android/widget/Toast/show )
  (goto l90ad4)
  (label ps90ace_90b24)
  (line 423)
  (iget-object v0 v3 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.this$0 [object org/thoughtcrime/securesms/ConversationItem])
  (invoke-static {v0} org/thoughtcrime/securesms/ConversationItem/access$0 [object org/thoughtcrime/securesms/ConversationItem] )
  (move-result-object v0)
  (const v1 2131427380) ; 0x7f0b0034)
  (invoke-static {v0 v1 v2} android/widget/Toast/makeText [object android/content/Context] int int )
  (move-result-object v0)
  (line 424)
  (invoke-virtual {v0} android/widget/Toast/show )
  (goto l90ad4)
  (line 413)
  (label l90b46)
  (data-array
    0x00 0x00
  )
)

(method (attrs public ) onLongClick([object android/view/View] )boolean
  (limit registers 6)
  ; this: v4 ([object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener])
  ; parameter[0] : v5 ([object android/view/View])
  (const/4 v3 1)
  (line 395)
  (new-instance v0 android/app/AlertDialog$Builder)
  (iget-object v1 v4 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.this$0 [object org/thoughtcrime/securesms/ConversationItem])
  (invoke-static {v1} org/thoughtcrime/securesms/ConversationItem/access$0 [object org/thoughtcrime/securesms/ConversationItem] )
  (move-result-object v1)
  (invoke-direct {v0 v1} android/app/AlertDialog$Builder/<init> [object android/content/Context] )
  (line 396)
  (const v1 2131427376) ; 0x7f0b0030)
  (invoke-virtual {v0 v1} android/app/AlertDialog$Builder/setTitle int )
  (line 397)
  (const v1 17301543) ; 0x1080027)
  (invoke-virtual {v0 v1} android/app/AlertDialog$Builder/setIcon int )
  (line 398)
  (invoke-virtual {v0 v3} android/app/AlertDialog$Builder/setCancelable boolean )
  (line 399)
  (const v1 2131427377) ; 0x7f0b0031)
  (invoke-virtual {v0 v1} android/app/AlertDialog$Builder/setMessage int )
  (line 400)
  (const v1 2131427339) ; 0x7f0b000b)
  (new-instance v2 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener$1)
  (invoke-direct {v2 v4} org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener$1/<init> [object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener] )
  (invoke-virtual {v0 v1 v2} android/app/AlertDialog$Builder/setPositiveButton int [object android/content/DialogInterface$OnClickListener] )
  (line 405)
  (const v1 2131427340) ; 0x7f0b000c)
  (const/4 v2 0)
  (invoke-virtual {v0 v1 v2} android/app/AlertDialog$Builder/setNegativeButton int [object android/content/DialogInterface$OnClickListener] )
  (line 406)
  (invoke-virtual {v0} android/app/AlertDialog$Builder/show )
  (line 408)
  (return v3)
)

(method (attrs public ) onMediaScannerConnected()void
  (limit registers 4)
  ; this: v3 ([object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener])
  (line 432)
  (iget-object v0 v3 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.mediaScannerConnection [object android/media/MediaScannerConnection])
  (iget-object v1 v3 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.mediaFile [object java/io/File])
  (invoke-virtual {v1} java/io/File/getAbsolutePath )
  (move-result-object v1)
  (iget-object v2 v3 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.slide [object org/thoughtcrime/securesms/mms/Slide])
  (invoke-virtual {v2} org/thoughtcrime/securesms/mms/Slide/getContentType )
  (move-result-object v2)
  (invoke-virtual {v0 v1 v2} android/media/MediaScannerConnection/scanFile [object java/lang/String] [object java/lang/String] )
  (line 433)
  (return-void )
)

(method (attrs public ) onScanCompleted([object java/lang/String] [object android/net/Uri] )void
  (limit registers 4)
  ; this: v1 ([object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener])
  ; parameter[0] : v2 ([object java/lang/String])
  ; parameter[1] : v3 ([object android/net/Uri])
  (line 436)
  (iget-object v0 v1 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.mediaScannerConnection [object android/media/MediaScannerConnection])
  (invoke-virtual {v0} android/media/MediaScannerConnection/disconnect )
  (line 437)
  (const/4 v0 0)
  (invoke-virtual {v1 v0} org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener/obtainMessage int )
  (move-result-object v0)
  (invoke-virtual {v0} android/os/Message/sendToTarget )
  (line 438)
  (return-void )
)

(method (attrs public ) run()void
  (limit registers 8)
  ; this: v7 ([object org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener])
  (catch java/io/IOException from l90d00 to l90d06 using l90ce0)
  (catch java/io/IOException from l90c72 to l90cde using l90ce0)
  (line 340)
  (invoke-static {} android/os/Environment/getExternalStorageDirectory )
  (nop )
  (move-result-object v5)
  (invoke-virtual {v5} java/io/File/canWrite )
  (move-result v5)
  (if-nez v5 l90c72)
  (line 341)
  (const/4 v5 2)
  (invoke-virtual {v7 v5} org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener/obtainMessage int )
  (move-result-object v5)
  (invoke-virtual {v5} android/os/Message/sendToTarget )
  (label l90c70)
  (line 366)
  (return-void )
  (label l90c72)
  (line 346)
  (invoke-direct {v7} org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener/constructOutputFile )
  (move-result-object v5)
  (iput-object v5 v7 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.mediaFile [object java/io/File])
  (line 347)
  (iget-object v5 v7 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.slide [object org/thoughtcrime/securesms/mms/Slide])
  (invoke-virtual {v5} org/thoughtcrime/securesms/mms/Slide/getPartDataInputStream )
  (move-result-object v1)
  (label l90c8a)
  (line 348)
  (new-instance v3 java/io/FileOutputStream)
  (iget-object v5 v7 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.mediaFile [object java/io/File])
  (invoke-direct {v3 v5} java/io/FileOutputStream/<init> [object java/io/File] )
  (label l90c98)
  (line 350)
  (const/16 v5 4096)
  (new-array v0 v5 [array byte])
  (label l90ca0)
  (line 353)
  (invoke-virtual {v1 v0} java/io/InputStream/read [array byte] )
  (move-result v4)
  (label l90ca8)
  (const/4 v5 15)
  (if-ne v4 v5 l90cfe)
  (line 357)
  (invoke-virtual {v3} java/io/OutputStream/close )
  (line 358)
  (invoke-virtual {v1} java/io/InputStream/close )
  (line 360)
  (new-instance v5 android/media/MediaScannerConnection)
  (iget-object v6 v7 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.this$0 [object org/thoughtcrime/securesms/ConversationItem])
  (invoke-static {v6} org/thoughtcrime/securesms/ConversationItem/access$0 [object org/thoughtcrime/securesms/ConversationItem] )
  (move-result-object v6)
  (invoke-direct {v5 v6 v7} android/media/MediaScannerConnection/<init> [object android/content/Context] [object android/media/MediaScannerConnection$MediaScannerConnectionClient] )
  (iput-object v5 v7 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.mediaScannerConnection [object android/media/MediaScannerConnection])
  (line 361)
  (iget-object v5 v7 org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener.mediaScannerConnection [object android/media/MediaScannerConnection])
  (invoke-virtual {v5} android/media/MediaScannerConnection/connect )
  (label l90cde)
  (goto l90c70)
  (label l90ce0)
  (line 362)
  (move-exception v2)
  (label l90ce2)
  (line 363)
  (const-string v5 "ConversationItem")
  (invoke-static {v5 v2} android/util/Log/w [object java/lang/String] [object java/lang/Throwable] )
  (line 364)
  (const/4 v5 1)
  (invoke-virtual {v7 v5} org/thoughtcrime/securesms/ConversationItem$ThumbnailSaveListener/obtainMessage int )
  (move-result-object v5)
  (invoke-virtual {v5} android/os/Message/sendToTarget )
  (goto l90c70)
  (label l90cfe)
  (line 354)
  (const/4 v5 0)
  (label l90d00)
  (invoke-virtual {v3 v0 v5 v4} java/io/OutputStream/write [array byte] int int )
  (label l90d06)
  (goto l90ca0)
)

)
