(class (attrs public ) com/tomgibara/android/veecheck/VeecheckThread
 (super java/lang/Thread)
 (source "VeecheckThread.java")

 (field (attrs private static final ) CHARSET [object java/util/regex/Pattern] null )
 (field (attrs private static final ) CONNECTION_TIMEOUT int 10000); 0x2710 )
 (field (attrs private static final ) DEFAULT_ENCODING [object android/util/Xml$Encoding] null )
 (field (attrs private static final ) SO_TIMEOUT int 10000); 0x2710 )
 (field (attrs private final ) service [object com/tomgibara/android/veecheck/VeecheckService] )
 (field (attrs private final ) uri [object java/lang/String] )

(method (attrs static ) <clinit>()void
  (limit registers 1)
  (line 62)
  (sget-object v0 android/util/Xml$Encoding.UTF_8 [object android/util/Xml$Encoding])
  (sput-object v0 com/tomgibara/android/veecheck/VeecheckThread.DEFAULT_ENCODING [object android/util/Xml$Encoding])
  (line 64)
  (const-string v0 "charset\\s*=\\s*([-_a-zA-Z0-9]+)")
  (invoke-static {v0} java/util/regex/Pattern/compile [object java/lang/String] )
  (move-result-object v0)
  (sput-object v0 com/tomgibara/android/veecheck/VeecheckThread.CHARSET [object java/util/regex/Pattern])
  (line 53)
  (return-void )
 )

(method (attrs public ) <init>([object com/tomgibara/android/veecheck/VeecheckService] [object android/net/Uri] )void
  (limit registers 4)
  ; this: v1 ([object com/tomgibara/android/veecheck/VeecheckThread])
  ; parameter[0] : v2 ([object com/tomgibara/android/veecheck/VeecheckService])
  ; parameter[1] : v3 ([object android/net/Uri])
  (line 86)
  (invoke-direct {v1} java/lang/Thread/<init> )
  (line 87)
  (iput-object v2 v1 com/tomgibara/android/veecheck/VeecheckThread.service [object com/tomgibara/android/veecheck/VeecheckService])
  (line 88)
  (invoke-virtual {v3} android/net/Uri/toString )
  (move-result-object v0)
  (iput-object v0 v1 com/tomgibara/android/veecheck/VeecheckThread.uri [object java/lang/String])
  (line 89)
  (return-void )
 )

(method (attrs private ) identityEncoding([object org/apache/http/Header] )[object android/util/Xml$Encoding]
  (limit registers 8)
  ; this: v6 ([object com/tomgibara/android/veecheck/VeecheckThread])
  ; parameter[0] : v7 ([object org/apache/http/Header])
  (line 140)
  (if-nez v7 l8dde)
  (sget-object v3 com/tomgibara/android/veecheck/VeecheckThread.DEFAULT_ENCODING [object android/util/Xml$Encoding])
  (label l8ddc)
  (line 152)
  (return-object v3)
  (label l8dde)
  (line 141)
  (invoke-interface {v7} org/apache/http/Header/getValue )
  (move-result-object v2)
  (line 142)
  (sget-object v3 com/tomgibara/android/veecheck/VeecheckThread.CHARSET [object java/util/regex/Pattern])
  (invoke-virtual {v3 v2} java/util/regex/Pattern/matcher [object java/lang/CharSequence] )
  (move-result-object v1)
  (line 143)
  (invoke-virtual {v1} java/util/regex/Matcher/find )
  (move-result v3)
  (if-nez v3 l8e04)
  (sget-object v3 com/tomgibara/android/veecheck/VeecheckThread.DEFAULT_ENCODING [object android/util/Xml$Encoding])
  (goto l8ddc)
  (label l8e04)
  (line 144)
  (const/4 v3 1)
  (invoke-virtual {v1 v3} java/util/regex/Matcher/group int )
  (move-result-object v3)
  (const-string v4 "_")
  (const-string v5 "")
  (invoke-virtual {v3 v4 v5} java/lang/String/replace [object java/lang/CharSequence] [object java/lang/CharSequence] )
  (move-result-object v3)
  (const-string v4 "-")
  (const-string v5 "")
  (invoke-virtual {v3 v4 v5} java/lang/String/replace [object java/lang/CharSequence] [object java/lang/CharSequence] )
  (move-result-object v3)
  (invoke-virtual {v3} java/lang/String/toUpperCase )
  (move-result-object v0)
  (line 147)
  (const-string v3 "UTF8")
  (invoke-virtual {v0 v3} java/lang/String/equals [object java/lang/Object] )
  (move-result v3)
  (if-eqz v3 l8e4c)
  (sget-object v3 android/util/Xml$Encoding.UTF_8 [object android/util/Xml$Encoding])
  (goto l8ddc)
  (label l8e4c)
  (line 148)
  (const-string v3 "USASCII")
  (invoke-virtual {v0 v3} java/lang/String/equals [object java/lang/Object] )
  (move-result v3)
  (if-eqz v3 l8e62)
  (sget-object v3 android/util/Xml$Encoding.US_ASCII [object android/util/Xml$Encoding])
  (goto l8ddc)
  (label l8e62)
  (line 149)
  (const-string v3 "ASCII")
  (invoke-virtual {v0 v3} java/lang/String/equals [object java/lang/Object] )
  (move-result v3)
  (if-eqz v3 l8e78)
  (sget-object v3 android/util/Xml$Encoding.US_ASCII [object android/util/Xml$Encoding])
  (goto l8ddc)
  (label l8e78)
  (line 150)
  (const-string v3 "ISO88591")
  (invoke-virtual {v0 v3} java/lang/String/equals [object java/lang/Object] )
  (move-result v3)
  (if-eqz v3 l8e8e)
  (sget-object v3 android/util/Xml$Encoding.ISO_8859_1 [object android/util/Xml$Encoding])
  (goto l8ddc)
  (label l8e8e)
  (line 151)
  (const-string v3 "UTF16")
  (invoke-virtual {v0 v3} java/lang/String/equals [object java/lang/Object] )
  (move-result v3)
  (if-eqz v3 l8ea4)
  (sget-object v3 android/util/Xml$Encoding.UTF_16 [object android/util/Xml$Encoding])
  (goto l8ddc)
  (label l8ea4)
  (line 152)
  (sget-object v3 com/tomgibara/android/veecheck/VeecheckThread.DEFAULT_ENCODING [object android/util/Xml$Encoding])
  (goto l8ddc)
 )

(method (attrs private ) performRequest([object com/tomgibara/android/veecheck/VeecheckVersion] [object java/lang/String] )[object com/tomgibara/android/veecheck/VeecheckResult]
  (annotation systemVisibility [object dalvik/annotation/Throws]
    (value [array [object java/lang/String]] [object org/apache/http/client/ClientProtocolException]  [object java/io/IOException]  [object java/lang/IllegalStateException]  [object org/xml/sax/SAXException])
  )
  (limit registers 15)
  ; this: v12 ([object com/tomgibara/android/veecheck/VeecheckThread])
  ; parameter[0] : v13 ([object com/tomgibara/android/veecheck/VeecheckVersion])
  ; parameter[1] : v14 ([object java/lang/String])
  (catchall  java/lang/Exception from l8f54 to l8f80 using l8f4a)
  (catchall  java/lang/Exception from l8f00 to l8f4a using l8f4a)
  (const/16 v9 10000)
  (line 117)
  (new-instance v0 org/apache/http/impl/client/DefaultHttpClient)
  (invoke-direct {v0} org/apache/http/impl/client/DefaultHttpClient/<init> )
  (line 119)
  (invoke-interface {v0} org/apache/http/client/HttpClient/getParams )
  (move-result-object v6)
  (line 120)
  (invoke-static {v6 v9} org/apache/http/params/HttpConnectionParams/setConnectionTimeout [object org/apache/http/params/HttpParams] int )
  (line 121)
  (invoke-static {v6 v9} org/apache/http/params/HttpConnectionParams/setSoTimeout [object org/apache/http/params/HttpParams] int )
  (line 122)
  (new-instance v7 org/apache/http/client/methods/HttpGet)
  (invoke-virtual {v13 v14} com/tomgibara/android/veecheck/VeecheckVersion/substitute [object java/lang/String] )
  (move-result-object v9)
  (invoke-direct {v7 v9} org/apache/http/client/methods/HttpGet/<init> [object java/lang/String] )
  (line 123)
  (invoke-interface {v0 v7} org/apache/http/client/HttpClient/execute [object org/apache/http/client/methods/HttpUriRequest] )
  (move-result-object v8)
  (line 124)
  (invoke-interface {v8} org/apache/http/HttpResponse/getEntity )
  (move-result-object v2)
  (label l8f00)
  (line 126)
  (invoke-interface {v8} org/apache/http/HttpResponse/getStatusLine )
  (move-result-object v5)
  (label l8f08)
  (line 128)
  (invoke-interface {v5} org/apache/http/StatusLine/getStatusCode )
  (move-result v9)
  (const/16 v10 200)
  (if-eq v9 v10 l8f54)
  (new-instance v9 java/io/IOException)
  (new-instance v10 java/lang/StringBuilder)
  (const-string v11 "Request failed: ")
  (invoke-direct {v10 v11} java/lang/StringBuilder/<init> [object java/lang/String] )
  (invoke-interface {v5} org/apache/http/StatusLine/getReasonPhrase )
  (move-result-object v11)
  (invoke-virtual {v10 v11} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v10)
  (invoke-virtual {v10} java/lang/StringBuilder/toString )
  (move-result-object v10)
  (invoke-direct {v9 v10} java/io/IOException/<init> [object java/lang/String] )
  (throw v9)
  (label l8f4a)
  (line 134)
  (move-exception v9)
  (line 135)
  (invoke-interface {v2} org/apache/http/HttpEntity/consumeContent )
  (line 136)
  (throw v9)
  (label l8f54)
  (line 129)
  (const-string v9 "Content-Type")
  (invoke-interface {v8 v9} org/apache/http/HttpResponse/getFirstHeader [object java/lang/String] )
  (move-result-object v4)
  (line 130)
  (invoke-direct {v12 v4} com/tomgibara/android/veecheck/VeecheckThread/identityEncoding [object org/apache/http/Header] )
  (move-result-object v1)
  (line 131)
  (new-instance v3 com/tomgibara/android/veecheck/VeecheckResult)
  (invoke-direct {v3 v13} com/tomgibara/android/veecheck/VeecheckResult/<init> [object com/tomgibara/android/veecheck/VeecheckVersion] )
  (line 132)
  (invoke-interface {v2} org/apache/http/HttpEntity/getContent )
  (move-result-object v9)
  (invoke-static {v9 v1 v3} android/util/Xml/parse [object java/io/InputStream] [object android/util/Xml$Encoding] [object org/xml/sax/ContentHandler] )
  (label l8f80)
  (line 135)
  (invoke-interface {v2} org/apache/http/HttpEntity/consumeContent )
  (line 133)
  (return-object v3)
 )

(method (attrs public ) run()void
  (limit registers 6)
  ; this: v5 ([object com/tomgibara/android/veecheck/VeecheckThread])
  (catchall  java/lang/Exception from l9008 to l9016 using l9018)
  (catchall  java/lang/Exception from l8fec to l8ffa using l9018)
  (catchall  java/lang/Exception from l8fc8 to l8fde using l9018)
  (catch java/lang/Exception from l8fbc to l8fc6 using l8fea)
  (catchall  java/lang/Exception from l8fbc to l8fc6 using l9018)
  (catchall  java/lang/Exception from l8fae to l8fbc using l9018)
  (line 93)
  (const/4 v1 0)
  (label l8fae)
  (line 95)
  (new-instance v2 com/tomgibara/android/veecheck/VeecheckVersion)
  (iget-object v3 v5 com/tomgibara/android/veecheck/VeecheckThread.service [object com/tomgibara/android/veecheck/VeecheckService])
  (invoke-direct {v2 v3} com/tomgibara/android/veecheck/VeecheckVersion/<init> [object android/content/Context] )
  (label l8fbc)
  (line 97)
  (iget-object v3 v5 com/tomgibara/android/veecheck/VeecheckThread.uri [object java/lang/String])
  (invoke-direct {v5 v2 v3} com/tomgibara/android/veecheck/VeecheckThread/performRequest [object com/tomgibara/android/veecheck/VeecheckVersion] [object java/lang/String] )
  (label l8fc6)
  (move-result-object v1)
  (label l8fc8)
  (line 104)
  (iget-boolean v3 v1 com/tomgibara/android/veecheck/VeecheckResult.matched boolean)
  (if-eqz v3 l9006)
  (line 105)
  (const-string v3 "veecheck")
  (const-string v4 "Matching intent found.")
  (invoke-static {v3 v4} android/util/Log/d [object java/lang/String] [object java/lang/String] )
  (label l8fde)
  (line 112)
  (iget-object v3 v5 com/tomgibara/android/veecheck/VeecheckThread.service [object com/tomgibara/android/veecheck/VeecheckService])
  (invoke-virtual {v3 v1} com/tomgibara/android/veecheck/VeecheckService/notifyAndStop [object com/tomgibara/android/veecheck/VeecheckResult] )
  (label l8fe8)
  (line 114)
  (return-void )
  (label l8fea)
  (line 98)
  (move-exception v0)
  (label l8fec)
  (line 99)
  (const-string v3 "veecheck")
  (const-string v4 "Failed to process versions.")
  (invoke-static {v3 v4 v0} android/util/Log/w [object java/lang/String] [object java/lang/String] [object java/lang/Throwable] )
  (label l8ffa)
  (line 112)
  (iget-object v3 v5 com/tomgibara/android/veecheck/VeecheckThread.service [object com/tomgibara/android/veecheck/VeecheckService])
  (invoke-virtual {v3 v1} com/tomgibara/android/veecheck/VeecheckService/notifyAndStop [object com/tomgibara/android/veecheck/VeecheckResult] )
  (goto l8fe8)
  (label l9006)
  (line 107)
  (const/4 v1 0)
  (label l9008)
  (line 108)
  (const-string v3 "veecheck")
  (const-string v4 "No matching intent found.")
  (invoke-static {v3 v4} android/util/Log/d [object java/lang/String] [object java/lang/String] )
  (label l9016)
  (goto l8fde)
  (label l9018)
  (line 111)
  (move-exception v3)
  (line 112)
  (iget-object v4 v5 com/tomgibara/android/veecheck/VeecheckThread.service [object com/tomgibara/android/veecheck/VeecheckService])
  (invoke-virtual {v4 v1} com/tomgibara/android/veecheck/VeecheckService/notifyAndStop [object com/tomgibara/android/veecheck/VeecheckResult] )
  (line 113)
  (throw v3)
)

)
