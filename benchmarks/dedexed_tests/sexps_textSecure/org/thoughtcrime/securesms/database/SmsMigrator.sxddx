(class (attrs public ) org/thoughtcrime/securesms/database/SmsMigrator
 (super java/lang/Object)
 (source "SmsMigrator.java")


(method (attrs public ) <init>()void
  (limit registers 1)
  ; this: v0 ([object org/thoughtcrime/securesms/database/SmsMigrator])
  (line 35)
  (invoke-direct {v0} java/lang/Object/<init> )
  (return-void )
 )

(method (attrs private static ) addEncryptedStringToStatement([object android/content/Context] [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] [object org/thoughtcrime/securesms/crypto/MasterSecret] int [object java/lang/String] )void
  (limit registers 8)
  ; parameter[0] : v2 ([object android/content/Context])
  ; parameter[1] : v3 ([object android/database/sqlite/SQLiteStatement])
  ; parameter[2] : v4 ([object android/database/Cursor])
  ; parameter[3] : v5 ([object org/thoughtcrime/securesms/crypto/MasterSecret])
  ; parameter[4] : v6 (int)
  ; parameter[5] : v7 ([object java/lang/String])
  (line 41)
  (invoke-interface {v4 v7} android/database/Cursor/getColumnIndexOrThrow [object java/lang/String] )
  (move-result v0)
  (line 43)
  (invoke-interface {v4 v0} android/database/Cursor/isNull int )
  (move-result v1)
  (if-eqz v1 la3ae4)
  (line 44)
  (invoke-virtual {v3 v6} android/database/sqlite/SQLiteStatement/bindNull int )
  (label la3ae2)
  (line 48)
  (return-void )
  (label la3ae4)
  (line 46)
  (invoke-interface {v4 v0} android/database/Cursor/getString int )
  (move-result-object v1)
  (invoke-static {v2 v5 v1} org/thoughtcrime/securesms/database/SmsMigrator/encryptIfNecessary [object android/content/Context] [object org/thoughtcrime/securesms/crypto/MasterSecret] [object java/lang/String] )
  (move-result-object v1)
  (invoke-virtual {v3 v6 v1} android/database/sqlite/SQLiteStatement/bindString int [object java/lang/String] )
  (goto la3ae2)
 )

(method (attrs private static ) addIntToStatement([object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )void
  (limit registers 7)
  ; parameter[0] : v3 ([object android/database/sqlite/SQLiteStatement])
  ; parameter[1] : v4 ([object android/database/Cursor])
  ; parameter[2] : v5 (int)
  ; parameter[3] : v6 ([object java/lang/String])
  (line 65)
  (invoke-interface {v4 v6} android/database/Cursor/getColumnIndexOrThrow [object java/lang/String] )
  (move-result v0)
  (line 67)
  (invoke-interface {v4 v0} android/database/Cursor/isNull int )
  (move-result v1)
  (if-eqz v1 la3b28)
  (line 68)
  (invoke-virtual {v3 v5} android/database/sqlite/SQLiteStatement/bindNull int )
  (label la3b26)
  (line 72)
  (return-void )
  (label la3b28)
  (line 70)
  (invoke-interface {v4 v0} android/database/Cursor/getLong int )
  (move-result-wide v1)
  (invoke-virtual {v3 v5 v1 v2} android/database/sqlite/SQLiteStatement/bindLong int long )
  (goto la3b26)
 )

(method (attrs private static ) addStringToStatement([object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )void
  (limit registers 6)
  ; parameter[0] : v2 ([object android/database/sqlite/SQLiteStatement])
  ; parameter[1] : v3 ([object android/database/Cursor])
  ; parameter[2] : v4 (int)
  ; parameter[3] : v5 ([object java/lang/String])
  (line 53)
  (invoke-interface {v3 v5} android/database/Cursor/getColumnIndexOrThrow [object java/lang/String] )
  (move-result v0)
  (line 55)
  (invoke-interface {v3 v0} android/database/Cursor/isNull int )
  (move-result v1)
  (if-eqz v1 la3b64)
  (line 56)
  (invoke-virtual {v2 v4} android/database/sqlite/SQLiteStatement/bindNull int )
  (label la3b62)
  (line 60)
  (return-void )
  (label la3b64)
  (line 58)
  (invoke-interface {v3 v0} android/database/Cursor/getString int )
  (move-result-object v1)
  (invoke-virtual {v2 v4 v1} android/database/sqlite/SQLiteStatement/bindString int [object java/lang/String] )
  (goto la3b62)
 )

(method (attrs private static ) encryptIfNecessary([object android/content/Context] [object org/thoughtcrime/securesms/crypto/MasterSecret] [object java/lang/String] )[object java/lang/String]
  (limit registers 6)
  ; parameter[0] : v3 ([object android/content/Context])
  ; parameter[1] : v4 ([object org/thoughtcrime/securesms/crypto/MasterSecret])
  ; parameter[2] : v5 ([object java/lang/String])
  (line 142)
  (const-string v1 "?TextSecureLocalEncrypt")
  (invoke-virtual {v5 v1} java/lang/String/startsWith [object java/lang/String] )
  (move-result v1)
  (if-nez v1 la3bd4)
  (const-string v1 "?TextSecureAsymmetricEncrypt")
  (invoke-virtual {v5 v1} java/lang/String/startsWith [object java/lang/String] )
  (move-result v1)
  (if-nez v1 la3bd4)
  (line 143)
  (new-instance v0 org/thoughtcrime/securesms/crypto/MasterCipher)
  (invoke-direct {v0 v4} org/thoughtcrime/securesms/crypto/MasterCipher/<init> [object org/thoughtcrime/securesms/crypto/MasterSecret] )
  (label la3bae)
  (line 144)
  (new-instance v1 java/lang/StringBuilder)
  (const-string v2 "?TextSecureLocalEncrypt")
  (invoke-direct {v1 v2} java/lang/StringBuilder/<init> [object java/lang/String] )
  (invoke-virtual {v0 v5} org/thoughtcrime/securesms/crypto/MasterCipher/encryptBody [object java/lang/String] )
  (move-result-object v2)
  (invoke-virtual {v1 v2} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v1)
  (invoke-virtual {v1} java/lang/StringBuilder/toString )
  (move-result-object v5)
  (label la3bd4)
  (line 147)
  (return-object v5)
 )

(method (attrs private static ) getContentValuesForRow([object android/content/Context] [object org/thoughtcrime/securesms/crypto/MasterSecret] [object android/database/Cursor] long [object android/database/sqlite/SQLiteStatement] )void
  (limit registers 12)
  ; parameter[0] : v6 ([object android/content/Context])
  ; parameter[1] : v7 ([object org/thoughtcrime/securesms/crypto/MasterSecret])
  ; parameter[2] : v8 ([object android/database/Cursor])
  ; parameter[3] : v9 (long)
  ; parameter[4] : v11 ([object android/database/sqlite/SQLiteStatement])
  (line 78)
  (const/4 v0 1)
  (const-string v1 "address")
  (invoke-static {v11 v8 v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/addStringToStatement [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )
  (line 79)
  (const/4 v0 2)
  (const-string v1 "person")
  (invoke-static {v11 v8 v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/addIntToStatement [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )
  (line 80)
  (const/4 v0 3)
  (const-string v1 "date")
  (invoke-static {v11 v8 v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/addIntToStatement [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )
  (line 81)
  (const/4 v0 4)
  (const-string v1 "protocol")
  (invoke-static {v11 v8 v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/addIntToStatement [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )
  (line 82)
  (const/4 v0 5)
  (const-string v1 "read")
  (invoke-static {v11 v8 v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/addIntToStatement [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )
  (line 83)
  (const/4 v0 6)
  (const-string v1 "status")
  (invoke-static {v11 v8 v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/addIntToStatement [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )
  (line 84)
  (const/4 v0 7)
  (const-string v1 "type")
  (invoke-static {v11 v8 v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/addIntToStatement [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )
  (line 85)
  (const/16 v0 8)
  (const-string v1 "reply_path_present")
  (invoke-static {v11 v8 v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/addIntToStatement [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )
  (line 86)
  (const/16 v0 9)
  (const-string v1 "subject")
  (invoke-static {v11 v8 v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/addStringToStatement [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )
  (line 87)
  (const/16 v4 10)
  (const-string v5 "body")
  (move-object v0 v6)
  (move-object v1 v11)
  (move-object v2 v8)
  (move-object v3 v7)
  (invoke-static/range {v0 .. v5} org/thoughtcrime/securesms/database/SmsMigrator/addEncryptedStringToStatement [object android/content/Context] [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] [object org/thoughtcrime/securesms/crypto/MasterSecret] int [object java/lang/String] )
  (line 88)
  (const/16 v0 11)
  (const-string v1 "service_center")
  (invoke-static {v11 v8 v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/addStringToStatement [object android/database/sqlite/SQLiteStatement] [object android/database/Cursor] int [object java/lang/String] )
  (line 90)
  (const/16 v0 12)
  (invoke-virtual {v11 v0 v9 v10} android/database/sqlite/SQLiteStatement/bindLong int long )
  (line 91)
  (return-void )
 )

(method (attrs private static ) getOurRecipients([object android/content/Context] [object java/lang/String] )[object org/thoughtcrime/securesms/recipients/Recipients]
  (limit registers 10)
  ; parameter[0] : v8 ([object android/content/Context])
  ; parameter[1] : v9 ([object java/lang/String])
  (catch org/thoughtcrime/securesms/recipients/RecipientFormattingException from la3d06 to la3d14 using la3d18)
  (catch org/thoughtcrime/securesms/recipients/RecipientFormattingException from la3cc6 to la3ccc using la3d18)
  (const/4 v5 0)
  (line 113)
  (new-instance v4 java/util/StringTokenizer)
  (invoke-virtual {v9} java/lang/String/trim )
  (move-result-object v6)
  (const-string v7 " ")
  (invoke-direct {v4 v6 v7} java/util/StringTokenizer/<init> [object java/lang/String] [object java/lang/String] )
  (line 114)
  (new-instance v2 java/lang/StringBuilder)
  (invoke-direct {v2} java/lang/StringBuilder/<init> )
  (label la3cba)
  (line 116)
  (invoke-virtual {v4} java/util/StringTokenizer/hasMoreTokens )
  (move-result v6)
  (if-nez v6 la3cd4)
  (label la3cc6)
  (line 130)
  (invoke-virtual {v2} java/lang/StringBuilder/length )
  (label la3ccc)
  (move-result v6)
  (if-nez v6 la3d06)
  (label la3cd2)
  (line 134)
  (return-object v5)
  (label la3cd4)
  (line 117)
  (invoke-virtual {v4} java/util/StringTokenizer/nextToken )
  (move-result-object v3)
  (label la3cdc)
  (line 118)
  (invoke-static {v8 v3} org/thoughtcrime/securesms/database/SmsMigrator/getTheirCanonicalAddress [object android/content/Context] [object java/lang/String] )
  (move-result-object v0)
  (label la3ce4)
  (line 120)
  (if-eqz v0 la3cba)
  (line 123)
  (invoke-virtual {v2} java/lang/StringBuilder/length )
  (move-result v6)
  (if-eqz v6 la3cfe)
  (line 124)
  (const/16 v6 44)
  (invoke-virtual {v2 v6} java/lang/StringBuilder/append char )
  (label la3cfe)
  (line 126)
  (invoke-virtual {v2 v0} java/lang/StringBuilder/append [object java/lang/String] )
  (goto la3cba)
  (label la3d06)
  (line 131)
  (invoke-virtual {v2} java/lang/StringBuilder/toString )
  (move-result-object v6)
  (invoke-static {v8 v6} org/thoughtcrime/securesms/recipients/RecipientFactory/getRecipientsFromString [object android/content/Context] [object java/lang/String] )
  (label la3d14)
  (move-result-object v5)
  (goto la3cd2)
  (label la3d18)
  (line 132)
  (move-exception v1)
  (line 133)
  (const-string v6 "SmsMigrator")
  (invoke-static {v6 v1} android/util/Log/w [object java/lang/String] [object java/lang/Throwable] )
  (goto la3cd2)
 )

(method (attrs private static ) getTheirCanonicalAddress([object android/content/Context] [object java/lang/String] )[object java/lang/String]
  (limit registers 10)
  ; parameter[0] : v8 ([object android/content/Context])
  ; parameter[1] : v9 ([object java/lang/String])
  (catchall  java/lang/Exception from la3d7a to la3daa using la3dc6)
  (const/4 v7 0)
  (line 94)
  (new-instance v0 java/lang/StringBuilder)
  (const-string v2 "content://mms-sms/canonical-address/")
  (invoke-direct {v0 v2} java/lang/StringBuilder/<init> [object java/lang/String] )
  (invoke-virtual {v0 v9} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v0)
  (invoke-virtual {v0} java/lang/StringBuilder/toString )
  (move-result-object v0)
  (invoke-static {v0} android/net/Uri/parse [object java/lang/String] )
  (move-result-object v1)
  (line 95)
  (const/4 v6 0)
  (label la3d7a)
  (line 98)
  (invoke-virtual {v8} android/content/Context/getContentResolver )
  (move-result-object v0)
  (const/4 v2 0)
  (const/4 v3 0)
  (const/4 v4 0)
  (const/4 v5 0)
  (invoke-virtual/range {v0 .. v5} android/content/ContentResolver/query [object android/net/Uri] [array [object java/lang/String]] [object java/lang/String] [array [object java/lang/String]] [object java/lang/String] )
  (move-result-object v6)
  (line 100)
  (if-eqz v6 la3db8)
  (invoke-interface {v6} android/database/Cursor/moveToFirst )
  (move-result v0)
  (if-eqz v0 la3db8)
  (line 101)
  (const/4 v0 0)
  (invoke-interface {v6 v0} android/database/Cursor/getString int )
  (label la3daa)
  (move-result-object v0)
  (line 107)
  (if-eqz v6 la3db6)
  (line 108)
  (invoke-interface {v6} android/database/Cursor/close )
  (label la3db6)
  (line 103)
  (return-object v0)
  (label la3db8)
  (line 107)
  (if-eqz v6 la3dc2)
  (line 108)
  (invoke-interface {v6} android/database/Cursor/close )
  (label la3dc2)
  (move-object v0 v7)
  (line 103)
  (goto la3db6)
  (label la3dc6)
  (line 106)
  (move-exception v0)
  (line 107)
  (if-eqz v6 la3dd2)
  (line 108)
  (invoke-interface {v6} android/database/Cursor/close )
  (label la3dd2)
  (line 109)
  (throw v0)
 )

(method (attrs private static ) migrateConversation([object android/content/Context] [object org/thoughtcrime/securesms/crypto/MasterSecret] [object org/thoughtcrime/securesms/database/SmsMigrator$SmsMigrationProgressListener] int long long )void
  (limit registers 27)
  ; parameter[0] : v19 ([object android/content/Context])
  ; parameter[1] : v20 ([object org/thoughtcrime/securesms/crypto/MasterSecret])
  ; parameter[2] : v21 ([object org/thoughtcrime/securesms/database/SmsMigrator$SmsMigrationProgressListener])
  ; parameter[3] : v22 (int)
  ; parameter[4] : v23 (long)
  ; parameter[5] : v25 (long)
  (catchall  java/lang/Exception from la3ea6 to la3ee8 using la3eea)
  (catchall  java/lang/Exception from la3e3c to la3e8e using la3eea)
  (catchall  java/lang/Exception from la3dfa to la3e3a using la3ef8)
  (line 155)
  (invoke-static/range {v19} org/thoughtcrime/securesms/database/DatabaseFactory/getSmsDatabase [object android/content/Context] )
  (move-result-object v13)
  (line 156)
  (const/4 v12 0)
  (label la3dfa)
  (line 159)
  (new-instance v2 java/lang/StringBuilder)
  (const-string v4 "content://sms/conversations/")
  (invoke-direct {v2 v4} java/lang/StringBuilder/<init> [object java/lang/String] )
  (move-wide/from16 v0 v23)
  (invoke-virtual {v2 v0 v1} java/lang/StringBuilder/append long )
  (move-result-object v2)
  (invoke-virtual {v2} java/lang/StringBuilder/toString )
  (move-result-object v2)
  (invoke-static {v2} android/net/Uri/parse [object java/lang/String] )
  (move-result-object v3)
  (label la3e24)
  (line 160)
  (invoke-virtual/range {v19} android/content/Context/getContentResolver )
  (move-result-object v2)
  (const/4 v4 0)
  (const/4 v5 0)
  (const/4 v6 0)
  (const/4 v7 0)
  (invoke-virtual/range {v2 .. v7} android/content/ContentResolver/query [object android/net/Uri] [array [object java/lang/String]] [object java/lang/String] [array [object java/lang/String]] [object java/lang/String] )
  (label la3e3a)
  (move-result-object v6)
  (label la3e3c)
  (line 161)
  (invoke-virtual {v13} org/thoughtcrime/securesms/database/SmsDatabase/beginTransaction )
  (move-result-object v18)
  (label la3e44)
  (line 162)
  (move-object/from16 v0 v18)
  (invoke-virtual {v13 v0} org/thoughtcrime/securesms/database/SmsDatabase/createInsertStatement [object android/database/sqlite/SQLiteDatabase] )
  (move-result-object v9)
  (label la3e50)
  (line 164)
  (if-eqz v6 la3e60)
  (invoke-interface {v6} android/database/Cursor/moveToNext )
  (move-result v2)
  (if-nez v2 la3e9a)
  (label la3e60)
  (line 175)
  (move-object/from16 v0 v18)
  (invoke-virtual {v13 v0} org/thoughtcrime/securesms/database/SmsDatabase/endTransaction [object android/database/sqlite/SQLiteDatabase] )
  (line 176)
  (invoke-static/range {v19} org/thoughtcrime/securesms/database/DatabaseFactory/getThreadDatabase [object android/content/Context] )
  (move-result-object v2)
  (move-wide/from16 v0 v25)
  (invoke-virtual {v2 v0 v1} org/thoughtcrime/securesms/database/ThreadDatabase/update long )
  (line 177)
  (invoke-static/range {v19} org/thoughtcrime/securesms/database/DatabaseFactory/getThreadDatabase [object android/content/Context] )
  (move-result-object v2)
  (move-wide/from16 v0 v25)
  (invoke-virtual {v2 v0 v1} org/thoughtcrime/securesms/database/ThreadDatabase/notifyConversationListeners long )
  (label la3e8e)
  (line 180)
  (if-eqz v6 la3e98)
  (line 181)
  (invoke-interface {v6} android/database/Cursor/close )
  (label la3e98)
  (line 183)
  (return-void )
  (label la3e9a)
  (move-object/from16 v4 v19)
  (move-object/from16 v5 v20)
  (move-wide/from16 v7 v25)
  (label la3ea6)
  (line 165)
  (invoke-static/range {v4 .. v9} org/thoughtcrime/securesms/database/SmsMigrator/getContentValuesForRow [object android/content/Context] [object org/thoughtcrime/securesms/crypto/MasterSecret] [object android/database/Cursor] long [object android/database/sqlite/SQLiteStatement] )
  (line 166)
  (invoke-virtual {v9} android/database/sqlite/SQLiteStatement/execute )
  (line 168)
  (invoke-interface {v6} android/database/Cursor/getPosition )
  (move-result v2)
  (int-to-double v14 v2)
  (label la3ebc)
  (line 169)
  (invoke-interface {v6} android/database/Cursor/getCount )
  (move-result v2)
  (int-to-double v10 v2)
  (label la3ec6)
  (line 170)
  (div-double v16 v14 v10)
  (label la3eca)
  (line 172)
  (const-wide v4 4666723172467343360) ; 0x40c3880000000000)
  (mul-double v4 v4 v16)
  (double-to-int v2 v4)
  (move-object/from16 v0 v21)
  (move/from16 v1 v22)
  (invoke-interface {v0 v1 v2} org/thoughtcrime/securesms/database/SmsMigrator$SmsMigrationProgressListener/progressUpdate int int )
  (label la3ee8)
  (goto la3e50)
  (label la3eea)
  (line 179)
  (move-exception v2)
  (label la3eec)
  (line 180)
  (if-eqz v6 la3ef6)
  (line 181)
  (invoke-interface {v6} android/database/Cursor/close )
  (label la3ef6)
  (line 182)
  (throw v2)
  (label la3ef8)
  (line 179)
  (move-exception v2)
  (move-object v6 v12)
  (label la3efc)
  (goto la3eec)
 )

(method (attrs public static ) migrateDatabase([object android/content/Context] [object org/thoughtcrime/securesms/crypto/MasterSecret] [object org/thoughtcrime/securesms/database/SmsMigrator$SmsMigrationProgressListener] )void
  (limit registers 26)
  ; parameter[0] : v23 ([object android/content/Context])
  ; parameter[1] : v24 ([object org/thoughtcrime/securesms/crypto/MasterSecret])
  ; parameter[2] : v25 ([object org/thoughtcrime/securesms/database/SmsMigrator$SmsMigrationProgressListener])
  (catchall  java/lang/Exception from la3fd8 to la406e using la4070)
  (catchall  java/lang/Exception from la3f92 to la3f98 using la4070)
  (catchall  java/lang/Exception from la3f64 to la3f88 using la407e)
  (line 189)
  (const-string v2 "SecureSMS")
  (const/4 v4 0)
  (move-object/from16 v0 v23)
  (invoke-virtual {v0 v2 v4} android/content/Context/getSharedPreferences [object java/lang/String] int )
  (move-result-object v2)
  (const-string v4 "migrated")
  (const/4 v5 0)
  (invoke-interface {v2 v4 v5} android/content/SharedPreferences/getBoolean [object java/lang/String] boolean )
  (move-result v2)
  (if-eqz v2 la3f56)
  (label la3f54)
  (line 227)
  (return-void )
  (label la3f56)
  (line 192)
  (invoke-static/range {v23} org/thoughtcrime/securesms/database/DatabaseFactory/getThreadDatabase [object android/content/Context] )
  (move-result-object v22)
  (line 193)
  (const/4 v14 0)
  (line 194)
  (const/16 v18 0)
  (label la3f64)
  (line 197)
  (const-string v2 "content://mms-sms/conversations?simple=true")
  (invoke-static {v2} android/net/Uri/parse [object java/lang/String] )
  (move-result-object v3)
  (label la3f70)
  (line 198)
  (invoke-virtual/range {v23} android/content/Context/getContentResolver )
  (move-result-object v2)
  (const/4 v4 0)
  (const/4 v5 0)
  (const/4 v6 0)
  (const-string v7 "date ASC")
  (invoke-virtual/range {v2 .. v7} android/content/ContentResolver/query [object android/net/Uri] [array [object java/lang/String]] [object java/lang/String] [array [object java/lang/String]] [object java/lang/String] )
  (label la3f88)
  (move-result-object v14)
  (move/from16 v7 v18)
  (label la3f8e)
  (line 200)
  (if-eqz v14 la3f9e)
  (label la3f92)
  (invoke-interface {v14} android/database/Cursor/moveToNext )
  (label la3f98)
  (move-result v2)
  (if-nez v2 la3fd8)
  (label la3f9e)
  (line 221)
  (if-eqz v14 la3fa8)
  (line 222)
  (invoke-interface {v14} android/database/Cursor/close )
  (label la3fa8)
  (line 225)
  (const-string v2 "SecureSMS")
  (const/4 v4 0)
  (move-object/from16 v0 v23)
  (invoke-virtual {v0 v2 v4} android/content/Context/getSharedPreferences [object java/lang/String] int )
  (move-result-object v2)
  (invoke-interface {v2} android/content/SharedPreferences/edit )
  (move-result-object v2)
  (line 226)
  (const-string v4 "migrated")
  (const/4 v5 1)
  (invoke-interface {v2 v4 v5} android/content/SharedPreferences$Editor/putBoolean [object java/lang/String] boolean )
  (move-result-object v2)
  (invoke-interface {v2} android/content/SharedPreferences$Editor/commit )
  (goto la3f54)
  (label la3fd8)
  (line 201)
  (const-string v2 "_id")
  (invoke-interface {v14 v2} android/database/Cursor/getColumnIndexOrThrow [object java/lang/String] )
  (move-result v2)
  (invoke-interface {v14 v2} android/database/Cursor/getLong int )
  (move-result-wide v8)
  (label la3fec)
  (line 202)
  (const-string v2 "recipient_ids")
  (invoke-interface {v14 v2} android/database/Cursor/getColumnIndexOrThrow [object java/lang/String] )
  (move-result v2)
  (invoke-interface {v14 v2} android/database/Cursor/getString int )
  (move-result-object v21)
  (label la4000)
  (line 203)
  (move-object/from16 v0 v23)
  (move-object/from16 v1 v21)
  (invoke-static {v0 v1} org/thoughtcrime/securesms/database/SmsMigrator/getOurRecipients [object android/content/Context] [object java/lang/String] )
  (move-result-object v15)
  (label la4010)
  (line 205)
  (if-eqz v15 la4032)
  (line 206)
  (move-object/from16 v0 v22)
  (invoke-virtual {v0 v15} org/thoughtcrime/securesms/database/ThreadDatabase/getThreadIdFor [object org/thoughtcrime/securesms/recipients/Recipients] )
  (move-result-wide v10)
  (label la4020)
  (move-object/from16 v4 v23)
  (move-object/from16 v5 v24)
  (move-object/from16 v6 v25)
  (line 207)
  (invoke-static/range {v4 .. v11} org/thoughtcrime/securesms/database/SmsMigrator/migrateConversation [object android/content/Context] [object org/thoughtcrime/securesms/crypto/MasterSecret] [object org/thoughtcrime/securesms/database/SmsMigrator$SmsMigrationProgressListener] int long long )
  (label la4032)
  (line 212)
  (invoke-interface {v14} android/database/Cursor/getPosition )
  (move-result v2)
  (add-int/lit8 v2 v2 1)
  (int-to-double v0 v2)
  (move-wide/from16 v16 v0)
  (label la4044)
  (line 213)
  (invoke-interface {v14} android/database/Cursor/getCount )
  (move-result v2)
  (int-to-double v12 v2)
  (label la404e)
  (line 214)
  (div-double v19 v16 v12)
  (label la4052)
  (line 216)
  (const-wide v4 4666723172467343360) ; 0x40c3880000000000)
  (mul-double v4 v4 v19)
  (double-to-int v7 v4)
  (line 218)
  (const/4 v2 0)
  (move-object/from16 v0 v25)
  (invoke-interface {v0 v7 v2} org/thoughtcrime/securesms/database/SmsMigrator$SmsMigrationProgressListener/progressUpdate int int )
  (label la406e)
  (goto la3f8e)
  (label la4070)
  (line 220)
  (move-exception v2)
  (label la4072)
  (line 221)
  (if-eqz v14 la407c)
  (line 222)
  (invoke-interface {v14} android/database/Cursor/close )
  (label la407c)
  (line 223)
  (throw v2)
  (label la407e)
  (line 220)
  (move-exception v2)
  (move/from16 v7 v18)
  (label la4084)
  (goto la4072)
 )

)
