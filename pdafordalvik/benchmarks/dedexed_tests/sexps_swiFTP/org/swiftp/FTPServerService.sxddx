(class (attrs public ) org/swiftp/FTPServerService
 (super android/app/Service)
 (source "FTPServerService.java")
 (implements java/lang/Runnable)

 (field (attrs public static final ) BACKLOG int 21); 0x15 )
 (field (attrs public static final ) MAX_SESSIONS int 5); 0x5 )
 (field (attrs public static final ) WAKE_INTERVAL_MS int 1000); 0x3e8 )
 (field (attrs public static final ) WAKE_LOCK_TAG [object java/lang/String] "SwiFTP" )
 (field (attrs protected static ) acceptNet boolean )
 (field (attrs protected static ) acceptWifi boolean )
 (field (attrs protected static ) fullWake boolean )
 (field (attrs protected static ) port int )
 (field (attrs protected static ) serverLog [object java/util/List] )
 (field (attrs protected static ) serverThread [object java/lang/Thread] )
 (field (attrs protected static ) sessionMonitor [object java/util/List] )
 (field (attrs private static ) settings [object android/content/SharedPreferences] )
 (field (attrs protected static ) staticLog [object org/swiftp/MyLog] )
 (field (attrs protected static ) uiLogLevel int )
 (field (attrs protected static ) wifiLock [object android/net/wifi/WifiManager$WifiLock] )
 (field (attrs protected ) listenSocket [object java/net/ServerSocket] )
 (field (attrs protected ) myLog [object org/swiftp/MyLog] )
 (field (attrs ) notificationMgr [object android/app/NotificationManager] )
 (field (attrs private ) proxyConnector [object org/swiftp/ProxyConnector] )
 (field (attrs private ) sessionThreads [object java/util/List] )
 (field (attrs protected ) shouldExit boolean )
 (field (attrs ) wakeLock [object android/os/PowerManager$WakeLock] )
 (field (attrs private ) wifiListener [object org/swiftp/TcpListener] )

(method (attrs static ) <clinit>()void
  (limit registers 3)
  (const/4 v2 0)
  (line 46)
  (sput-object v2 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (line 50)
  (new-instance v0 org/swiftp/MyLog)
  (const-class v1 org/swiftp/FTPServerService)
  (invoke-virtual {v1} java/lang/Class/getName )
  (move-result-object v1)
  (invoke-direct {v0 v1} org/swiftp/MyLog/<init> [object java/lang/String] )
  (line 49)
  (sput-object v0 org/swiftp/FTPServerService.staticLog [object org/swiftp/MyLog])
  (line 58)
  (sput-object v2 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (line 62)
  (new-instance v0 java/util/ArrayList)
  (invoke-direct {v0} java/util/ArrayList/<init> )
  (sput-object v0 org/swiftp/FTPServerService.sessionMonitor [object java/util/List])
  (line 63)
  (new-instance v0 java/util/ArrayList)
  (invoke-direct {v0} java/util/ArrayList/<init> )
  (sput-object v0 org/swiftp/FTPServerService.serverLog [object java/util/List])
  (line 64)
  (invoke-static {} org/swiftp/Defaults/getUiLogLevel )
  (nop )
  (move-result v0)
  (sput v0 org/swiftp/FTPServerService.uiLogLevel int)
  (line 81)
  (sput-object v2 org/swiftp/FTPServerService.settings [object android/content/SharedPreferences])
  (line 45)
  (return-void )
 )

(method (attrs public ) <init>()void
  (limit registers 4)
  ; this: v3 ([object org/swiftp/FTPServerService])
  (const/4 v2 0)
  (line 86)
  (invoke-direct {v3} android/app/Service/<init> )
  (line 47)
  (const/4 v0 0)
  (iput-boolean v0 v3 org/swiftp/FTPServerService.shouldExit boolean)
  (line 48)
  (new-instance v0 org/swiftp/MyLog)
  (invoke-virtual {v3} java/lang/Object/getClass )
  (move-result-object v1)
  (invoke-virtual {v1} java/lang/Class/getName )
  (move-result-object v1)
  (invoke-direct {v0 v1} org/swiftp/MyLog/<init> [object java/lang/String] )
  (iput-object v0 v3 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (line 77)
  (iput-object v2 v3 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (line 78)
  (iput-object v2 v3 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (line 79)
  (new-instance v0 java/util/ArrayList)
  (invoke-direct {v0} java/util/ArrayList/<init> )
  (iput-object v0 v3 org/swiftp/FTPServerService.sessionThreads [object java/util/List])
  (line 83)
  (iput-object v2 v3 org/swiftp/FTPServerService.notificationMgr [object android/app/NotificationManager])
  (line 87)
  (return-void )
 )

(method (attrs private ) clearNotification()void
  (limit registers 4)
  ; this: v3 ([object org/swiftp/FTPServerService])
  (line 260)
  (iget-object v1 v3 org/swiftp/FTPServerService.notificationMgr [object android/app/NotificationManager])
  (if-nez v1 l8448)
  (line 262)
  (const-string v0 "notification")
  (label l8438)
  (line 263)
  (invoke-virtual {v3 v0} org/swiftp/FTPServerService/getSystemService [object java/lang/String] )
  (move-result-object v1)
  (check-cast v1 [object android/app/NotificationManager])
  (iput-object v1 v3 org/swiftp/FTPServerService.notificationMgr [object android/app/NotificationManager])
  (label l8448)
  (line 265)
  (iget-object v1 v3 org/swiftp/FTPServerService.notificationMgr [object android/app/NotificationManager])
  (invoke-virtual {v1} android/app/NotificationManager/cancelAll )
  (line 266)
  (iget-object v1 v3 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v2 "Cleared notification")
  (invoke-virtual {v1 v2} org/swiftp/MyLog/d [object java/lang/String] )
  (line 267)
  (return-void )
 )

(method (attrs public static ) getPort()int
  (limit registers 1)
  (line 552)
  (sget v0 org/swiftp/FTPServerService.port int)
  (return v0)
 )

(method (attrs public static ) getServerLogContents()[object java/util/List]
  (annotation systemVisibility [object dalvik/annotation/Signature]
    (value [array [object java/lang/String]] "()"  "Ljava/util/List"  "<"  "Ljava/lang/String;"  ">;")
  )
  (limit registers 2)
  (line 520)
  (new-instance v0 java/util/ArrayList)
  (sget-object v1 org/swiftp/FTPServerService.serverLog [object java/util/List])
  (invoke-direct {v0 v1} java/util/ArrayList/<init> [object java/util/Collection] )
  (return-object v0)
 )

(method (attrs public static ) getSessionMonitorContents()[object java/util/List]
  (annotation systemVisibility [object dalvik/annotation/Signature]
    (value [array [object java/lang/String]] "()"  "Ljava/util/List"  "<"  "Ljava/lang/String;"  ">;")
  )
  (limit registers 2)
  (line 516)
  (new-instance v0 java/util/ArrayList)
  (sget-object v1 org/swiftp/FTPServerService.sessionMonitor [object java/util/List])
  (invoke-direct {v0 v1} java/util/ArrayList/<init> [object java/util/Collection] )
  (return-object v0)
 )

(method (attrs public static ) getSettings()[object android/content/SharedPreferences]
  (limit registers 1)
  (line 602)
  (sget-object v0 org/swiftp/FTPServerService.settings [object android/content/SharedPreferences])
  (return-object v0)
 )

(method (attrs public static ) getWifiIp()[object java/net/InetAddress]
  (limit registers 5)
  (const/4 v4 0)
  (line 483)
  (invoke-static {} org/swiftp/Globals/getContext )
  (nop )
  (move-result-object v1)
  (line 484)
  (if-nez v1 l8502)
  (line 485)
  (new-instance v3 java/lang/NullPointerException)
  (const-string v4 "Global context is null")
  (invoke-direct {v3 v4} java/lang/NullPointerException/<init> [object java/lang/String] )
  (throw v3)
  (label l8502)
  (line 488)
  (const-string v3 "wifi")
  (invoke-virtual {v1 v3} android/content/Context/getSystemService [object java/lang/String] )
  (move-result-object v2)
  (line 487)
  (check-cast v2 [object android/net/wifi/WifiManager])
  (line 489)
  (invoke-static {} org/swiftp/FTPServerService/isWifiEnabled )
  (nop )
  (move-result v3)
  (if-eqz v3 l8540)
  (line 490)
  (invoke-virtual {v2} android/net/wifi/WifiManager/getConnectionInfo )
  (move-result-object v3)
  (invoke-virtual {v3} android/net/wifi/WifiInfo/getIpAddress )
  (move-result v0)
  (label l852e)
  (line 491)
  (if-nez v0 l8536)
  (move-object v3 v4)
  (label l8534)
  (line 497)
  (return-object v3)
  (label l8536)
  (line 494)
  (invoke-static {v0} org/swiftp/Util/intToInet int )
  (move-result-object v3)
  (goto l8534)
  (label l8540)
  (move-object v3 v4)
  (line 497)
  (goto l8534)
 )

(method (attrs public static ) isRunning()boolean
  (limit registers 3)
  (const/4 v2 3)
  (line 133)
  (sget-object v0 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (if-nez v0 l8570)
  (line 134)
  (sget-object v0 org/swiftp/FTPServerService.staticLog [object org/swiftp/MyLog])
  (const-string v1 "Server is not running (null serverThread)")
  (invoke-virtual {v0 v2 v1} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 135)
  (const/4 v0 0)
  (label l856e)
  (line 142)
  (return v0)
  (label l8570)
  (line 137)
  (sget-object v0 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (invoke-virtual {v0} java/lang/Thread/isAlive )
  (move-result v0)
  (if-nez v0 l8592)
  (line 138)
  (sget-object v0 org/swiftp/FTPServerService.staticLog [object org/swiftp/MyLog])
  (const-string v1 "serverThread non-null but !isAlive()")
  (invoke-virtual {v0 v2 v1} org/swiftp/MyLog/l int [object java/lang/String] )
  (label l858e)
  (line 142)
  (const/4 v0 1)
  (goto l856e)
  (label l8592)
  (line 140)
  (sget-object v0 org/swiftp/FTPServerService.staticLog [object org/swiftp/MyLog])
  (const-string v1 "Server is alive")
  (invoke-virtual {v0 v2 v1} org/swiftp/MyLog/l int [object java/lang/String] )
  (goto l858e)
 )

(method (attrs public static ) isWifiEnabled()boolean
  (limit registers 4)
  (line 502)
  (invoke-static {} org/swiftp/Globals/getContext )
  (nop )
  (move-result-object v0)
  (line 503)
  (if-nez v0 l85d0)
  (line 504)
  (new-instance v2 java/lang/NullPointerException)
  (const-string v3 "Global context is null")
  (invoke-direct {v2 v3} java/lang/NullPointerException/<init> [object java/lang/String] )
  (throw v2)
  (label l85d0)
  (line 507)
  (const-string v2 "wifi")
  (invoke-virtual {v0 v2} android/content/Context/getSystemService [object java/lang/String] )
  (move-result-object v1)
  (line 506)
  (check-cast v1 [object android/net/wifi/WifiManager])
  (line 508)
  (invoke-virtual {v1} android/net/wifi/WifiManager/getWifiState )
  (move-result v2)
  (const/4 v3 3)
  (if-ne v2 v3 l85f2)
  (line 509)
  (const/4 v2 1)
  (label l85f0)
  (line 511)
  (return v2)
  (label l85f2)
  (const/4 v2 0)
  (goto l85f0)
 )

(method (attrs private ) loadSettings()boolean
  (limit registers 13)
  ; this: v12 ([object org/swiftp/FTPServerService])
  (const/4 v11 0)
  (const/4 v10 6)
  (const/4 v9 3)
  (const/4 v8 1)
  (const/4 v7 0)
  (line 182)
  (iget-object v4 v12 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v5 "Loading settings")
  (invoke-virtual {v4 v9 v5} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 184)
  (invoke-static {} org/swiftp/Defaults/getSettingsName )
  (nop )
  (move-result-object v4)
  (invoke-static {} org/swiftp/Defaults/getSettingsMode )
  (nop )
  (move-result v5)
  (line 183)
  (invoke-virtual {v12 v4 v5} org/swiftp/FTPServerService/getSharedPreferences [object java/lang/String] int )
  (move-result-object v4)
  (sput-object v4 org/swiftp/FTPServerService.settings [object android/content/SharedPreferences])
  (line 185)
  (sget-object v4 org/swiftp/FTPServerService.settings [object android/content/SharedPreferences])
  (const-string v5 "portNum")
  (sget v6 org/swiftp/Defaults.portNumber int)
  (invoke-interface {v4 v5 v6} android/content/SharedPreferences/getInt [object java/lang/String] int )
  (move-result v4)
  (sput v4 org/swiftp/FTPServerService.port int)
  (line 186)
  (sget v4 org/swiftp/FTPServerService.port int)
  (if-nez v4 l8664)
  (line 188)
  (sget v4 org/swiftp/Defaults.portNumber int)
  (sput v4 org/swiftp/FTPServerService.port int)
  (label l8664)
  (line 190)
  (iget-object v4 v12 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (new-instance v5 java/lang/StringBuilder)
  (const-string v6 "Using port ")
  (invoke-direct {v5 v6} java/lang/StringBuilder/<init> [object java/lang/String] )
  (sget v6 org/swiftp/FTPServerService.port int)
  (invoke-virtual {v5 v6} java/lang/StringBuilder/append int )
  (move-result-object v5)
  (invoke-virtual {v5} java/lang/StringBuilder/toString )
  (move-result-object v5)
  (invoke-virtual {v4 v9 v5} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 192)
  (sget-object v4 org/swiftp/FTPServerService.settings [object android/content/SharedPreferences])
  (const-string v5 "allowNet")
  (invoke-interface {v4 v5 v7} android/content/SharedPreferences/getBoolean [object java/lang/String] boolean )
  (move-result v4)
  (sput-boolean v4 org/swiftp/FTPServerService.acceptNet boolean)
  (line 194)
  (sget-object v4 org/swiftp/FTPServerService.settings [object android/content/SharedPreferences])
  (const-string v5 "allowWifi")
  (invoke-interface {v4 v5 v8} android/content/SharedPreferences/getBoolean [object java/lang/String] boolean )
  (move-result v4)
  (sput-boolean v4 org/swiftp/FTPServerService.acceptWifi boolean)
  (line 196)
  (sget-object v4 org/swiftp/FTPServerService.settings [object android/content/SharedPreferences])
  (const-string v5 "stayAwake")
  (invoke-interface {v4 v5 v7} android/content/SharedPreferences/getBoolean [object java/lang/String] boolean )
  (move-result v4)
  (sput-boolean v4 org/swiftp/FTPServerService.fullWake boolean)
  (line 200)
  (sget-object v4 org/swiftp/FTPServerService.settings [object android/content/SharedPreferences])
  (const-string v5 "username")
  (invoke-interface {v4 v5 v11} android/content/SharedPreferences/getString [object java/lang/String] [object java/lang/String] )
  (move-result-object v3)
  (line 201)
  (sget-object v4 org/swiftp/FTPServerService.settings [object android/content/SharedPreferences])
  (const-string v5 "password")
  (invoke-interface {v4 v5 v11} android/content/SharedPreferences/getString [object java/lang/String] [object java/lang/String] )
  (move-result-object v2)
  (line 202)
  (sget-object v4 org/swiftp/FTPServerService.settings [object android/content/SharedPreferences])
  (const-string v5 "chrootDir")
  (line 203)
  (const-string v6 "/")
  (line 202)
  (invoke-interface {v4 v5 v6} android/content/SharedPreferences/getString [object java/lang/String] [object java/lang/String] )
  (move-result-object v0)
  (line 206)
  (if-eqz v3 l8708)
  (if-nez v2 l871a)
  (label l8708)
  (line 207)
  (iget-object v4 v12 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v5 "Username or password is invalid")
  (invoke-virtual {v4 v10 v5} org/swiftp/MyLog/l int [object java/lang/String] )
  (label l8716)
  (move v4 v7)
  (label l8718)
  (line 220)
  (return v4)
  (label l871a)
  (line 210)
  (new-instance v1 java/io/File)
  (invoke-direct {v1 v0} java/io/File/<init> [object java/lang/String] )
  (line 211)
  (invoke-virtual {v1} java/io/File/isDirectory )
  (move-result v4)
  (if-nez v4 l8740)
  (line 212)
  (iget-object v4 v12 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v5 "Chroot dir is invalid")
  (invoke-virtual {v4 v10 v5} org/swiftp/MyLog/l int [object java/lang/String] )
  (goto l8716)
  (label l8740)
  (line 215)
  (invoke-static {v1} org/swiftp/Globals/setChrootDir [object java/io/File] )
  (line 216)
  (invoke-static {v3} org/swiftp/Globals/setUsername [object java/lang/String] )
  (move v4 v8)
  (line 217)
  (goto l8718)
 )

(method (attrs public static ) log(int [object java/lang/String] )void
  (limit registers 5)
  ; parameter[0] : v3 (int)
  ; parameter[1] : v4 ([object java/lang/String])
  (line 524)
  (sget-object v1 org/swiftp/FTPServerService.serverLog [object java/util/List])
  (invoke-interface {v1 v4} java/util/List/add [object java/lang/Object] )
  (line 525)
  (invoke-static {} org/swiftp/Defaults/getServerLogScrollBack )
  (nop )
  (move-result v0)
  (label l8772)
  (line 526)
  (sget-object v1 org/swiftp/FTPServerService.serverLog [object java/util/List])
  (invoke-interface {v1} java/util/List/size )
  (move-result v1)
  (if-gt v1 v0 l8784)
  (line 530)
  (return-void )
  (label l8784)
  (line 527)
  (sget-object v1 org/swiftp/FTPServerService.serverLog [object java/util/List])
  (const/4 v2 0)
  (invoke-interface {v1 v2} java/util/List/remove int )
  (goto l8772)
 )

(method (attrs private ) releaseWakeLock()void
  (limit registers 3)
  ; this: v2 ([object org/swiftp/FTPServerService])
  (line 445)
  (iget-object v0 v2 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v1 "Releasing wake lock")
  (invoke-virtual {v0 v1} org/swiftp/MyLog/d [object java/lang/String] )
  (line 446)
  (iget-object v0 v2 org/swiftp/FTPServerService.wakeLock [object android/os/PowerManager$WakeLock])
  (if-eqz v0 l87da)
  (line 447)
  (iget-object v0 v2 org/swiftp/FTPServerService.wakeLock [object android/os/PowerManager$WakeLock])
  (invoke-virtual {v0} android/os/PowerManager$WakeLock/release )
  (line 448)
  (const/4 v0 0)
  (iput-object v0 v2 org/swiftp/FTPServerService.wakeLock [object android/os/PowerManager$WakeLock])
  (line 449)
  (iget-object v0 v2 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v1 "Finished releasing wake lock")
  (invoke-virtual {v0 v1} org/swiftp/MyLog/d [object java/lang/String] )
  (label l87d8)
  (line 453)
  (return-void )
  (label l87da)
  (line 451)
  (iget-object v0 v2 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v1 "Couldn't release null wake lock")
  (invoke-virtual {v0 v1} org/swiftp/MyLog/i [object java/lang/String] )
  (goto l87d8)
 )

(method (attrs private ) releaseWifiLock()void
  (limit registers 3)
  ; this: v2 ([object org/swiftp/FTPServerService])
  (line 466)
  (iget-object v0 v2 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v1 "Releasing wifi lock")
  (invoke-virtual {v0 v1} org/swiftp/MyLog/d [object java/lang/String] )
  (line 467)
  (sget-object v0 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (if-eqz v0 l8822)
  (line 468)
  (sget-object v0 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (invoke-virtual {v0} android/net/wifi/WifiManager$WifiLock/release )
  (line 469)
  (const/4 v0 0)
  (sput-object v0 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (label l8822)
  (line 471)
  (return-void )
 )

(method (attrs public static ) setPort(int )void
  (limit registers 1)
  ; parameter[0] : v0 (int)
  (line 556)
  (sput v0 org/swiftp/FTPServerService.port int)
  (line 557)
  (return-void )
 )

(method (attrs private ) setupNotification()void
  (limit registers 13)
  ; this: v12 ([object org/swiftp/FTPServerService])
  (const/4 v11 0)
  (line 234)
  (const-string v6 "notification")
  (line 235)
  (invoke-virtual {v12 v6} org/swiftp/FTPServerService/getSystemService [object java/lang/String] )
  (move-result-object v10)
  (check-cast v10 [object android/app/NotificationManager])
  (iput-object v10 v12 org/swiftp/FTPServerService.notificationMgr [object android/app/NotificationManager])
  (line 238)
  (const v3 2130837507) ; 0x7f020003)
  (line 239)
  (const v10 2131034162) ; 0x7f050032)
  (invoke-virtual {v12 v10} org/swiftp/FTPServerService/getString int )
  (move-result-object v7)
  (line 240)
  (invoke-static {} java/lang/System/currentTimeMillis )
  (nop )
  (move-result-wide v8)
  (line 241)
  (new-instance v4 android/app/Notification)
  (invoke-direct {v4 v3 v7 v8 v9} android/app/Notification/<init> int [object java/lang/CharSequence] long )
  (line 244)
  (const v10 2131034163) ; 0x7f050033)
  (invoke-virtual {v12 v10} org/swiftp/FTPServerService/getString int )
  (move-result-object v2)
  (line 245)
  (const v10 2131034164) ; 0x7f050034)
  (invoke-virtual {v12 v10} org/swiftp/FTPServerService/getString int )
  (move-result-object v1)
  (line 246)
  (new-instance v5 android/content/Intent)
  (const-class v10 org/swiftp/ServerControlActivity)
  (invoke-direct {v5 v12 v10} android/content/Intent/<init> [object android/content/Context] [object java/lang/Class] )
  (line 247)
  (invoke-static {v12 v11 v5 v11} android/app/PendingIntent/getActivity [object android/content/Context] int [object android/content/Intent] int )
  (move-result-object v0)
  (line 249)
  (invoke-virtual {v12} org/swiftp/FTPServerService/getApplicationContext )
  (move-result-object v10)
  (invoke-virtual {v4 v10 v2 v1 v0} android/app/Notification/setLatestEventInfo [object android/content/Context] [object java/lang/CharSequence] [object java/lang/CharSequence] [object android/app/PendingIntent] )
  (line 251)
  (iget v10 v4 android/app/Notification.flags int)
  (or-int/lit8 v10 v10 2)
  (iput v10 v4 android/app/Notification.flags int)
  (line 254)
  (iget-object v10 v12 org/swiftp/FTPServerService.notificationMgr [object android/app/NotificationManager])
  (invoke-virtual {v10 v11 v4} android/app/NotificationManager/notify int [object android/app/Notification] )
  (line 256)
  (iget-object v10 v12 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v11 "Notication setup done")
  (invoke-virtual {v10 v11} org/swiftp/MyLog/d [object java/lang/String] )
  (line 257)
  (return-void )
 )

(method (attrs private ) takeWakeLock()void
  (limit registers 5)
  ; this: v4 ([object org/swiftp/FTPServerService])
  (const-string v3 "SwiFTP")
  (line 423)
  (iget-object v1 v4 org/swiftp/FTPServerService.wakeLock [object android/os/PowerManager$WakeLock])
  (if-nez v1 l8944)
  (line 424)
  (const-string v1 "power")
  (invoke-virtual {v4 v1} org/swiftp/FTPServerService/getSystemService [object java/lang/String] )
  (move-result-object v0)
  (check-cast v0 [object android/os/PowerManager])
  (label l891c)
  (line 431)
  (sget-boolean v1 org/swiftp/FTPServerService.fullWake boolean)
  (if-eqz v1 l895e)
  (line 432)
  (const/16 v1 26)
  (line 433)
  (const-string v2 "SwiFTP")
  (line 432)
  (invoke-virtual {v0 v1 v3} android/os/PowerManager/newWakeLock int [object java/lang/String] )
  (move-result-object v1)
  (iput-object v1 v4 org/swiftp/FTPServerService.wakeLock [object android/os/PowerManager$WakeLock])
  (label l8938)
  (line 438)
  (iget-object v1 v4 org/swiftp/FTPServerService.wakeLock [object android/os/PowerManager$WakeLock])
  (const/4 v2 0)
  (invoke-virtual {v1 v2} android/os/PowerManager$WakeLock/setReferenceCounted boolean )
  (label l8944)
  (line 440)
  (iget-object v1 v4 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v2 "Acquiring wake lock")
  (invoke-virtual {v1 v2} org/swiftp/MyLog/d [object java/lang/String] )
  (line 441)
  (iget-object v1 v4 org/swiftp/FTPServerService.wakeLock [object android/os/PowerManager$WakeLock])
  (invoke-virtual {v1} android/os/PowerManager$WakeLock/acquire )
  (line 442)
  (return-void )
  (label l895e)
  (line 435)
  (const/4 v1 1)
  (line 436)
  (const-string v2 "SwiFTP")
  (line 435)
  (invoke-virtual {v0 v1 v3} android/os/PowerManager/newWakeLock int [object java/lang/String] )
  (move-result-object v1)
  (iput-object v1 v4 org/swiftp/FTPServerService.wakeLock [object android/os/PowerManager$WakeLock])
  (goto l8938)
 )

(method (attrs private ) takeWifiLock()void
  (limit registers 4)
  ; this: v3 ([object org/swiftp/FTPServerService])
  (line 456)
  (iget-object v1 v3 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v2 "Taking wifi lock")
  (invoke-virtual {v1 v2} org/swiftp/MyLog/d [object java/lang/String] )
  (line 457)
  (sget-object v1 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (if-nez v1 l89c6)
  (line 458)
  (const-string v1 "wifi")
  (invoke-virtual {v3 v1} org/swiftp/FTPServerService/getSystemService [object java/lang/String] )
  (move-result-object v0)
  (check-cast v0 [object android/net/wifi/WifiManager])
  (label l89aa)
  (line 459)
  (const-string v1 "SwiFTP")
  (invoke-virtual {v0 v1} android/net/wifi/WifiManager/createWifiLock [object java/lang/String] )
  (move-result-object v1)
  (sput-object v1 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (line 460)
  (sget-object v1 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (const/4 v2 0)
  (invoke-virtual {v1 v2} android/net/wifi/WifiManager$WifiLock/setReferenceCounted boolean )
  (label l89c6)
  (line 462)
  (sget-object v1 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (invoke-virtual {v1} android/net/wifi/WifiManager$WifiLock/acquire )
  (line 463)
  (return-void )
 )

(method (attrs private ) terminateAllSessions()void
  (limit registers 5)
  ; this: v4 ([object org/swiftp/FTPServerService])
  (catchall  java/lang/Exception from l8a26 to l8a64 using l8a60)
  (line 401)
  (iget-object v1 v4 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (new-instance v2 java/lang/StringBuilder)
  (const-string v3 "Terminating ")
  (invoke-direct {v2 v3} java/lang/StringBuilder/<init> [object java/lang/String] )
  (iget-object v3 v4 org/swiftp/FTPServerService.sessionThreads [object java/util/List])
  (invoke-interface {v3} java/util/List/size )
  (move-result v3)
  (invoke-virtual {v2 v3} java/lang/StringBuilder/append int )
  (move-result-object v2)
  (const-string v3 " session thread(s)")
  (invoke-virtual {v2 v3} java/lang/StringBuilder/append [object java/lang/String] )
  (move-result-object v2)
  (invoke-virtual {v2} java/lang/StringBuilder/toString )
  (move-result-object v2)
  (invoke-virtual {v1 v2} org/swiftp/MyLog/i [object java/lang/String] )
  (line 402)
  (monitor-enter v4)
  (label l8a26)
  (line 403)
  (iget-object v1 v4 org/swiftp/FTPServerService.sessionThreads [object java/util/List])
  (invoke-interface {v1} java/util/List/iterator )
  (move-result-object v1)
  (label l8a32)
  (invoke-interface {v1} java/util/Iterator/hasNext )
  (move-result v2)
  (if-nez v2 l8a42)
  (line 402)
  (monitor-exit v4)
  (line 410)
  (return-void )
  (label l8a42)
  (line 403)
  (invoke-interface {v1} java/util/Iterator/next )
  (move-result-object v0)
  (check-cast v0 [object org/swiftp/SessionThread])
  (label l8a4e)
  (line 404)
  (if-eqz v0 l8a32)
  (line 405)
  (invoke-virtual {v0} org/swiftp/SessionThread/closeDataSocket )
  (line 406)
  (invoke-virtual {v0} org/swiftp/SessionThread/closeSocket )
  (goto l8a32)
  (label l8a60)
  (line 402)
  (move-exception v1)
  (monitor-exit v4)
  (label l8a64)
  (throw v1)
 )

(method (attrs public static ) updateClients()void
  (limit registers 0)
  (line 533)
  (invoke-static {} org/swiftp/UiUpdater/updateClients )
  (nop )
  (line 534)
  (return-void )
 )

(method (attrs public static ) writeMonitor(boolean [object java/lang/String] )void
  (limit registers 2)
  ; parameter[0] : v0 (boolean)
  ; parameter[1] : v1 ([object java/lang/String])
  (line 536)
  (return-void )
 )

(method (attrs public ) cleanupAndStopService()void
  (limit registers 4)
  ; this: v3 ([object org/swiftp/FTPServerService])
  (line 414)
  (invoke-virtual {v3} org/swiftp/FTPServerService/getApplicationContext )
  (move-result-object v0)
  (line 415)
  (new-instance v1 android/content/Intent)
  (const-class v2 org/swiftp/FTPServerService)
  (invoke-direct {v1 v0 v2} android/content/Intent/<init> [object android/content/Context] [object java/lang/Class] )
  (line 416)
  (invoke-virtual {v0 v1} android/content/Context/stopService [object android/content/Intent] )
  (line 417)
  (invoke-direct {v3} org/swiftp/FTPServerService/releaseWifiLock )
  (line 418)
  (invoke-direct {v3} org/swiftp/FTPServerService/releaseWakeLock )
  (line 419)
  (invoke-direct {v3} org/swiftp/FTPServerService/clearNotification )
  (line 420)
  (return-void )
)

(method (attrs public ) errorShutdown()void
  (limit registers 4)
  ; this: v3 ([object org/swiftp/FTPServerService])
  (line 474)
  (iget-object v0 v3 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v1 6)
  (const-string v2 "Service errorShutdown() called")
  (invoke-virtual {v0 v1 v2} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 475)
  (invoke-virtual {v3} org/swiftp/FTPServerService/cleanupAndStopService )
  (line 476)
  (return-void )
)

(method (attrs public ) getProxyConnector()[object org/swiftp/ProxyConnector]
  (limit registers 2)
  ; this: v1 ([object org/swiftp/FTPServerService])
  (line 598)
  (iget-object v0 v1 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (return-object v0)
)

(method (attrs public ) onBind([object android/content/Intent] )[object android/os/IBinder]
  (limit registers 3)
  ; this: v1 ([object org/swiftp/FTPServerService])
  ; parameter[0] : v2 ([object android/content/Intent])
  (line 91)
  (const/4 v0 0)
  (return-object v0)
)

(method (attrs public ) onCreate()void
  (limit registers 5)
  ; this: v4 ([object org/swiftp/FTPServerService])
  (line 95)
  (iget-object v1 v4 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v2 3)
  (const-string v3 "SwiFTP server created")
  (invoke-virtual {v1 v2 v3} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 97)
  (invoke-static {} org/swiftp/Globals/getContext )
  (nop )
  (move-result-object v0)
  (line 98)
  (if-nez v0 l8b72)
  (line 99)
  (invoke-virtual {v4} org/swiftp/FTPServerService/getApplicationContext )
  (move-result-object v0)
  (line 100)
  (if-eqz v0 l8b72)
  (line 101)
  (invoke-static {v0} org/swiftp/Globals/setContext [object android/content/Context] )
  (label l8b72)
  (line 104)
  (return-void )
)

(method (attrs public ) onDestroy()void
  (limit registers 6)
  ; this: v5 ([object org/swiftp/FTPServerService])
  (catch java/io/IOException from l8bec to l8c0e using l8c54)
  (catch java/lang/InterruptedException from l8bc0 to l8bce using l8c58)
  (const/4 v4 0)
  (const/4 v3 5)
  (const/4 v2 4)
  (line 146)
  (iget-object v0 v5 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v1 "onDestroy() Stopping server")
  (invoke-virtual {v0 v2 v1} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 147)
  (const/4 v0 1)
  (iput-boolean v0 v5 org/swiftp/FTPServerService.shouldExit boolean)
  (line 148)
  (sget-object v0 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (if-nez v0 l8bb6)
  (line 149)
  (iget-object v0 v5 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v1 "Stopping with null serverThread")
  (invoke-virtual {v0 v3 v1} org/swiftp/MyLog/l int [object java/lang/String] )
  (label l8bb4)
  (line 179)
  (return-void )
  (label l8bb6)
  (line 152)
  (sget-object v0 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (invoke-virtual {v0} java/lang/Thread/interrupt )
  (label l8bc0)
  (line 154)
  (sget-object v0 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (const-wide/16 v1 10000)
  (invoke-virtual {v0 v1 v2} java/lang/Thread/join long )
  (label l8bce)
  (line 156)
  (sget-object v0 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (invoke-virtual {v0} java/lang/Thread/isAlive )
  (move-result v0)
  (if-eqz v0 l8c40)
  (line 157)
  (iget-object v0 v5 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v1 "Server thread failed to exit")
  (invoke-virtual {v0 v3 v1} org/swiftp/MyLog/l int [object java/lang/String] )
  (label l8bec)
  (line 166)
  (iget-object v0 v5 org/swiftp/FTPServerService.listenSocket [object java/net/ServerSocket])
  (if-eqz v0 l8c0e)
  (line 167)
  (iget-object v0 v5 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v1 4)
  (const-string v2 "Closing listenSocket")
  (invoke-virtual {v0 v1 v2} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 168)
  (iget-object v0 v5 org/swiftp/FTPServerService.listenSocket [object java/net/ServerSocket])
  (invoke-virtual {v0} java/net/ServerSocket/close )
  (label l8c0e)
  (line 172)
  (invoke-static {} org/swiftp/UiUpdater/updateClients )
  (nop )
  (line 173)
  (sget-object v0 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (if-eqz v0 l8c2a)
  (line 174)
  (sget-object v0 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (invoke-virtual {v0} android/net/wifi/WifiManager$WifiLock/release )
  (line 175)
  (sput-object v4 org/swiftp/FTPServerService.wifiLock [object android/net/wifi/WifiManager$WifiLock])
  (label l8c2a)
  (line 177)
  (invoke-direct {v5} org/swiftp/FTPServerService/clearNotification )
  (line 178)
  (iget-object v0 v5 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v1 "FTPServerService.onDestroy() finished")
  (invoke-virtual {v0 v1} org/swiftp/MyLog/d [object java/lang/String] )
  (goto l8bb4)
  (label l8c40)
  (line 161)
  (iget-object v0 v5 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v1 "serverThread join()ed ok")
  (invoke-virtual {v0 v1} org/swiftp/MyLog/d [object java/lang/String] )
  (line 162)
  (sput-object v4 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (goto l8bec)
  (label l8c54)
  (line 170)
  (move-exception v0)
  (goto l8c0e)
  (label l8c58)
  (line 155)
  (move-exception v0)
  (goto l8bce)
)

(method (attrs public ) onStart([object android/content/Intent] int )void
  (limit registers 7)
  ; this: v4 ([object org/swiftp/FTPServerService])
  ; parameter[0] : v5 ([object android/content/Intent])
  ; parameter[1] : v6 (int)
  (line 108)
  (invoke-super {v4 v5 v6} android/app/Service/onStart [object android/content/Intent] int )
  (line 110)
  (const/4 v1 0)
  (iput-boolean v1 v4 org/swiftp/FTPServerService.shouldExit boolean)
  (line 111)
  (const/16 v0 10)
  (label l8c94)
  (line 114)
  (sget-object v1 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (if-nez v1 l8cc6)
  (line 124)
  (iget-object v1 v4 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v2 3)
  (const-string v3 "Creating server thread")
  (invoke-virtual {v1 v2 v3} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 125)
  (new-instance v1 java/lang/Thread)
  (invoke-direct {v1 v4} java/lang/Thread/<init> [object java/lang/Runnable] )
  (sput-object v1 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (line 126)
  (sget-object v1 org/swiftp/FTPServerService.serverThread [object java/lang/Thread])
  (invoke-virtual {v1} java/lang/Thread/start )
  (label l8cc4)
  (line 129)
  (return-void )
  (label l8cc6)
  (line 115)
  (iget-object v1 v4 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v2 5)
  (const-string v3 "Won't start, server thread exists")
  (invoke-virtual {v1 v2 v3} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 116)
  (if-lez v0 l8cea)
  (line 117)
  (add-int/lit8 v0 v0 255)
  (line 118)
  (const-wide/16 v1 1000)
  (invoke-static {v1 v2} org/swiftp/Util/sleepIgnoreInterupt long )
  (goto l8c94)
  (label l8cea)
  (line 120)
  (iget-object v1 v4 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v2 6)
  (const-string v3 "Server thread already exists")
  (invoke-virtual {v1 v2 v3} org/swiftp/MyLog/l int [object java/lang/String] )
  (goto l8cc4)
)

(method (attrs public ) registerSessionThread([object org/swiftp/SessionThread] )void
  (limit registers 10)
  ; this: v8 ([object org/swiftp/FTPServerService])
  ; parameter[0] : v9 ([object org/swiftp/SessionThread])
  (catchall  java/lang/Exception from l8dc8 to l8dde using l8dc2)
  (catchall  java/lang/Exception from l8db0 to l8dc6 using l8dc2)
  (catch java/lang/InterruptedException from l8d88 to l8daa using l8dac)
  (catchall  java/lang/Exception from l8d88 to l8daa using l8dc2)
  (catchall  java/lang/Exception from l8d60 to l8d88 using l8dc2)
  (catchall  java/lang/Exception from l8d0e to l8d50 using l8dc2)
  (line 570)
  (monitor-enter v8)
  (label l8d0e)
  (line 571)
  (new-instance v3 java/util/ArrayList)
  (invoke-direct {v3} java/util/ArrayList/<init> )
  (label l8d18)
  (line 572)
  (iget-object v4 v8 org/swiftp/FTPServerService.sessionThreads [object java/util/List])
  (invoke-interface {v4} java/util/List/iterator )
  (move-result-object v4)
  (label l8d24)
  (invoke-interface {v4} java/util/Iterator/hasNext )
  (move-result v5)
  (if-nez v5 l8d60)
  (line 586)
  (invoke-interface {v3} java/util/List/iterator )
  (move-result-object v4)
  (label l8d38)
  (invoke-interface {v4} java/util/Iterator/hasNext )
  (move-result v5)
  (if-nez v5 l8dc8)
  (line 591)
  (iget-object v4 v8 org/swiftp/FTPServerService.sessionThreads [object java/util/List])
  (invoke-interface {v4 v9} java/util/List/add [object java/lang/Object] )
  (line 570)
  (monitor-exit v8)
  (label l8d50)
  (line 593)
  (iget-object v4 v8 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v5 "Registered session thread")
  (invoke-virtual {v4 v5} org/swiftp/MyLog/d [object java/lang/String] )
  (line 594)
  (return-void )
  (label l8d60)
  (line 572)
  (invoke-interface {v4} java/util/Iterator/next )
  (move-result-object v2)
  (check-cast v2 [object org/swiftp/SessionThread])
  (label l8d6c)
  (line 573)
  (invoke-virtual {v2} org/swiftp/SessionThread/isAlive )
  (move-result v5)
  (if-nez v5 l8d24)
  (line 574)
  (iget-object v5 v8 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v6 3)
  (const-string v7 "Cleaning up finished session...")
  (invoke-virtual {v5 v6 v7} org/swiftp/MyLog/l int [object java/lang/String] )
  (label l8d88)
  (line 576)
  (invoke-virtual {v2} org/swiftp/SessionThread/join )
  (line 577)
  (iget-object v5 v8 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v6 3)
  (const-string v7 "Thread joined")
  (invoke-virtual {v5 v6 v7} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 578)
  (invoke-interface {v3 v2} java/util/List/add [object java/lang/Object] )
  (line 579)
  (invoke-virtual {v2} org/swiftp/SessionThread/closeSocket )
  (label l8daa)
  (goto l8d24)
  (label l8dac)
  (line 580)
  (move-exception v5)
  (move-object v0 v5)
  (label l8db0)
  (line 581)
  (iget-object v5 v8 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v6 3)
  (const-string v7 "Interrupted while joining")
  (invoke-virtual {v5 v6 v7} org/swiftp/MyLog/l int [object java/lang/String] )
  (goto l8d24)
  (label l8dc2)
  (line 570)
  (move-exception v4)
  (monitor-exit v8)
  (label l8dc6)
  (throw v4)
  (label l8dc8)
  (line 586)
  (invoke-interface {v4} java/util/Iterator/next )
  (move-result-object v1)
  (check-cast v1 [object org/swiftp/SessionThread])
  (line 587)
  (iget-object v5 v8 org/swiftp/FTPServerService.sessionThreads [object java/util/List])
  (invoke-interface {v5 v1} java/util/List/remove [object java/lang/Object] )
  (label l8dde)
  (goto l8d38)
)

(method (attrs public ) run()void
  (limit registers 14)
  ; this: v13 ([object org/swiftp/FTPServerService])
  (catch java/lang/InterruptedException from l9036 to l903c using l9040)
  (catch java/lang/InterruptedException from l8f92 to l8f9c using l907a)
  (catch java/lang/InterruptedException from l8f32 to l8f3c using l907e)
  (catch java/io/IOException from l8e5a to l8e60 using l8eea)
  (const/4 v12 0)
  (const/4 v11 3)
  (line 272)
  (const/4 v0 0)
  (line 273)
  (const-wide/16 v4 0)
  (line 275)
  (invoke-static {} org/swiftp/UiUpdater/updateClients )
  (nop )
  (line 277)
  (iget-object v7 v13 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v8 "Server thread running")
  (invoke-virtual {v7 v11 v8} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 280)
  (invoke-direct {v13} org/swiftp/FTPServerService/loadSettings )
  (move-result v7)
  (if-nez v7 l8e52)
  (line 282)
  (invoke-virtual {v13} org/swiftp/FTPServerService/cleanupAndStopService )
  (label l8e50)
  (line 398)
  (return-void )
  (label l8e52)
  (line 288)
  (sget-boolean v7 org/swiftp/FTPServerService.acceptWifi boolean)
  (if-eqz v7 l8e66)
  (label l8e5a)
  (line 291)
  (invoke-virtual {v13} org/swiftp/FTPServerService/setupListener )
  (label l8e60)
  (line 298)
  (invoke-direct {v13} org/swiftp/FTPServerService/takeWifiLock )
  (label l8e66)
  (line 300)
  (invoke-direct {v13} org/swiftp/FTPServerService/takeWakeLock )
  (line 302)
  (iget-object v7 v13 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v8 4)
  (const-string v9 "SwiFTP server ready")
  (invoke-virtual {v7 v8 v9} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 303)
  (invoke-direct {v13} org/swiftp/FTPServerService/setupNotification )
  (line 307)
  (invoke-static {} org/swiftp/UiUpdater/updateClients )
  (nop )
  (label l8e88)
  (line 309)
  (iget-boolean v7 v13 org/swiftp/FTPServerService.shouldExit boolean)
  (if-eqz v7 l8f04)
  (line 383)
  (invoke-direct {v13} org/swiftp/FTPServerService/terminateAllSessions )
  (line 385)
  (iget-object v7 v13 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (if-eqz v7 l8eac)
  (line 386)
  (iget-object v7 v13 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (invoke-virtual {v7} org/swiftp/ProxyConnector/quit )
  (line 387)
  (iput-object v12 v13 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (label l8eac)
  (line 389)
  (iget-object v7 v13 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (if-eqz v7 l8ec2)
  (line 390)
  (iget-object v7 v13 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (invoke-virtual {v7} org/swiftp/TcpListener/quit )
  (line 391)
  (iput-object v12 v13 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (label l8ec2)
  (line 393)
  (const/4 v7 0)
  (iput-boolean v7 v13 org/swiftp/FTPServerService.shouldExit boolean)
  (line 394)
  (iget-object v7 v13 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v8 "Exiting cleanly, returning from run()")
  (invoke-virtual {v7 v11 v8} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 395)
  (invoke-direct {v13} org/swiftp/FTPServerService/clearNotification )
  (line 396)
  (invoke-direct {v13} org/swiftp/FTPServerService/releaseWakeLock )
  (line 397)
  (invoke-direct {v13} org/swiftp/FTPServerService/releaseWifiLock )
  (goto l8e50)
  (label l8eea)
  (line 292)
  (move-exception v1)
  (label l8eec)
  (line 293)
  (iget-object v7 v13 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const/4 v8 5)
  (const-string v9 "Error opening port, check your network connection.")
  (invoke-virtual {v7 v8 v9} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 295)
  (invoke-virtual {v13} org/swiftp/FTPServerService/cleanupAndStopService )
  (goto l8e50)
  (label l8f04)
  (line 310)
  (sget-boolean v7 org/swiftp/FTPServerService.acceptWifi boolean)
  (if-eqz v7 l8f64)
  (line 311)
  (iget-object v7 v13 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (if-eqz v7 l8f40)
  (line 312)
  (iget-object v7 v13 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (invoke-virtual {v7} org/swiftp/TcpListener/isAlive )
  (move-result v7)
  (if-nez v7 l8f40)
  (line 313)
  (iget-object v7 v13 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v8 "Joining crashed wifiListener thread")
  (invoke-virtual {v7 v11 v8} org/swiftp/MyLog/l int [object java/lang/String] )
  (label l8f32)
  (line 315)
  (iget-object v7 v13 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (invoke-virtual {v7} org/swiftp/TcpListener/join )
  (label l8f3c)
  (line 317)
  (iput-object v12 v13 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (label l8f40)
  (line 320)
  (iget-object v7 v13 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (if-nez v7 l8f64)
  (line 323)
  (new-instance v7 org/swiftp/TcpListener)
  (iget-object v8 v13 org/swiftp/FTPServerService.listenSocket [object java/net/ServerSocket])
  (invoke-direct {v7 v8 v13} org/swiftp/TcpListener/<init> [object java/net/ServerSocket] [object org/swiftp/FTPServerService] )
  (iput-object v7 v13 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (line 324)
  (iget-object v7 v13 org/swiftp/FTPServerService.wifiListener [object org/swiftp/TcpListener])
  (invoke-virtual {v7} org/swiftp/TcpListener/start )
  (label l8f64)
  (line 327)
  (sget-boolean v7 org/swiftp/FTPServerService.acceptNet boolean)
  (if-eqz v7 l9032)
  (line 328)
  (iget-object v7 v13 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (if-eqz v7 l8fd4)
  (line 329)
  (iget-object v7 v13 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (invoke-virtual {v7} org/swiftp/ProxyConnector/isAlive )
  (move-result v7)
  (if-nez v7 l8fd4)
  (line 330)
  (iget-object v7 v13 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v8 "Joining crashed proxy connector")
  (invoke-virtual {v7 v11 v8} org/swiftp/MyLog/l int [object java/lang/String] )
  (label l8f92)
  (line 332)
  (iget-object v7 v13 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (invoke-virtual {v7} org/swiftp/ProxyConnector/join )
  (label l8f9c)
  (line 334)
  (iput-object v12 v13 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (line 335)
  (new-instance v7 java/util/Date)
  (invoke-direct {v7} java/util/Date/<init> )
  (invoke-virtual {v7} java/util/Date/getTime )
  (move-result-wide v2)
  (label l8fb2)
  (line 337)
  (sub-long v7 v2 v4)
  (const-wide/16 v9 3000)
  (cmp-long v7 v7 v9)
  (if-gez v7 l9054)
  (line 341)
  (iget-object v7 v13 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v8 "Incrementing proxy start failures")
  (invoke-virtual {v7 v11 v8} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 342)
  (add-int/lit8 v0 v0 1)
  (label l8fd4)
  (line 351)
  (iget-object v7 v13 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (if-nez v7 l9032)
  (line 352)
  (new-instance v7 java/util/Date)
  (invoke-direct {v7} java/util/Date/<init> )
  (invoke-virtual {v7} java/util/Date/getTime )
  (move-result-wide v2)
  (label l8fee)
  (line 353)
  (const/4 v6 0)
  (label l8ff0)
  (line 357)
  (if-ge v0 v11 l9066)
  (line 358)
  (sub-long v7 v2 v4)
  (const-wide/16 v9 5000)
  (cmp-long v7 v7 v9)
  (if-lez v7 l9066)
  (line 361)
  (const/4 v6 1)
  (label l9006)
  (line 366)
  (if-eqz v6 l9032)
  (line 367)
  (iget-object v7 v13 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v8 "Spawning ProxyConnector")
  (invoke-virtual {v7 v11 v8} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 368)
  (new-instance v7 org/swiftp/ProxyConnector)
  (invoke-direct {v7 v13} org/swiftp/ProxyConnector/<init> [object org/swiftp/FTPServerService] )
  (iput-object v7 v13 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (line 369)
  (iget-object v7 v13 org/swiftp/FTPServerService.proxyConnector [object org/swiftp/ProxyConnector])
  (invoke-virtual {v7} org/swiftp/ProxyConnector/start )
  (line 370)
  (move-wide v4 v2)
  (label l9032)
  (line 377)
  (const-wide/16 v7 1000)
  (label l9036)
  (invoke-static {v7 v8} java/lang/Thread/sleep long )
  (label l903c)
  (goto/16 l8e88)
  (label l9040)
  (line 378)
  (move-exception v1)
  (label l9042)
  (line 379)
  (iget-object v7 v13 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v8 "Thread interrupted")
  (invoke-virtual {v7 v11 v8} org/swiftp/MyLog/l int [object java/lang/String] )
  (goto/16 l8e88)
  (label l9054)
  (line 346)
  (iget-object v7 v13 org/swiftp/FTPServerService.myLog [object org/swiftp/MyLog])
  (const-string v8 "Resetting proxy start failures")
  (invoke-virtual {v7 v11 v8} org/swiftp/MyLog/l int [object java/lang/String] )
  (line 347)
  (const/4 v0 0)
  (goto l8fd4)
  (label l9066)
  (line 362)
  (sub-long v7 v2 v4)
  (const-wide/16 v9 30000)
  (cmp-long v7 v7 v9)
  (if-lez v7 l9006)
  (line 364)
  (const/4 v6 1)
  (goto l9006)
  (label l907a)
  (line 333)
  (move-exception v7)
  (goto l8f9c)
  (label l907e)
  (line 316)
  (move-exception v7)
  (goto/16 l8f3c)
)

(method (attrs ) setupListener()void
  (annotation systemVisibility [object dalvik/annotation/Throws]
    (value [array [object java/lang/String]] [object java/io/IOException])
  )
  (limit registers 4)
  ; this: v3 ([object org/swiftp/FTPServerService])
  (line 225)
  (new-instance v0 java/net/ServerSocket)
  (invoke-direct {v0} java/net/ServerSocket/<init> )
  (iput-object v0 v3 org/swiftp/FTPServerService.listenSocket [object java/net/ServerSocket])
  (line 226)
  (iget-object v0 v3 org/swiftp/FTPServerService.listenSocket [object java/net/ServerSocket])
  (const/4 v1 1)
  (invoke-virtual {v0 v1} java/net/ServerSocket/setReuseAddress boolean )
  (line 227)
  (iget-object v0 v3 org/swiftp/FTPServerService.listenSocket [object java/net/ServerSocket])
  (new-instance v1 java/net/InetSocketAddress)
  (sget v2 org/swiftp/FTPServerService.port int)
  (invoke-direct {v1 v2} java/net/InetSocketAddress/<init> int )
  (invoke-virtual {v0 v1} java/net/ServerSocket/bind [object java/net/SocketAddress] )
  (line 228)
  (return-void )
)

)
